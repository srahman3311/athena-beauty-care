"use strict";
self["webpackHotUpdate_N_E"]("pages/test",{

/***/ "./lib/find-time-slots-copy/findTimeSlots.js":
/*!***************************************************!*\
  !*** ./lib/find-time-slots-copy/findTimeSlots.js ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findTimeSlots": function() { return /* binding */ findTimeSlots; }
/* harmony export */ });
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _fetchStylistsEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fetchStylistsEvents */ "./lib/find-time-slots-copy/fetchStylistsEvents.js");
/* harmony import */ var _findBusyTimes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./findBusyTimes */ "./lib/find-time-slots-copy/findBusyTimes.js");
/* harmony import */ var _getDates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getDates */ "./lib/find-time-slots-copy/getDates.js");
/* harmony import */ var _getEventDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getEventDetails */ "./lib/find-time-slots-copy/getEventDetails.js");
/* harmony import */ var _getStylists__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./getStylists */ "./lib/find-time-slots-copy/getStylists.js");
/* harmony import */ var _helper_functions_getStylistsAllWorkingTimes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helper-functions/getStylistsAllWorkingTimes */ "./lib/find-time-slots-copy/helper-functions/getStylistsAllWorkingTimes.js");
/* module decorator */ module = __webpack_require__.hmd(module);


// Modules needed to fetch events







var defaultTime = ["10:00", "10:15", "10:30", "10:45", "11:00", "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15", "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30", "15:45", "16:00", "16:15", "16:30", "16:45", "17:00"];
var findTimeSlots = /*#__PURE__*/function () {
  var _ref = (0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)( /*#__PURE__*/D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee2() {
    var newTreatments, location, datesArray, allStylists, calendarEvents, stylistsByName, filteredDateTimeArray, stylistsWithFreeTimes, abcd, availableStartingTimesWithDates;
    return D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            newTreatments = [{
              category: "Brows",
              choosenStylist: "Nicole Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 35,
              treatmentPrice: 23,
              treatmentTitle: "Shaping brows"
            }, {
              category: "Plasma Ion",
              choosenStylist: "Andrea Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 70,
              treatmentPrice: 42,
              treatmentTitle: "Plasma Ion with light facials"
            }, {
              category: "Permanent Makeup",
              choosenStylist: "Soudi Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 85,
              treatmentPrice: 45,
              treatmentTitle: "Permanent Makeup with light massage"
            }];
            location = newTreatments[0].location;
            _context2.next = 4;
            return (0,_getDates__WEBPACK_IMPORTED_MODULE_5__.getDates)();

          case 4:
            datesArray = _context2.sent;
            _context2.next = 7;
            return (0,_getStylists__WEBPACK_IMPORTED_MODULE_7__.getStylists)(newTreatments);

          case 7:
            allStylists = _context2.sent;
            _context2.next = 10;
            return (0,_fetchStylistsEvents__WEBPACK_IMPORTED_MODULE_3__.fetchStylistsEvents)();

          case 10:
            calendarEvents = _context2.sent;
            stylistsByName = [];
            newTreatments.forEach(function (treatment) {
              stylistsByName.push(treatment.choosenStylist);
            });
            console.log(dates);
            console.log(allStylists);
            console.log(calendarEvents); // calendarEvents.forEach(calendarEvent => {
            //     console.log(new Date(calendarEvent.startTime), new Date(calendarEvent.endTime));
            // });
            // Steps
            // 1. dateTimeArray contains the dates of 30 days from today. 
            // Find all the dates based on dayName (example - Monday) when all choosen stylists are available at the choosen location
            // and push it to the filteredDateTimeArray 

            filteredDateTimeArray = []; // For each date of the dateTimeArray loop through the each stylist's workSchdule to find day match.

            datesArray.forEach(function (date) {
              var newDate = new Date(date); // get the day name (example - Monday) from the date to check against each stylist's workSchedule's day Name

              var dayName = newDate.toLocaleDateString("en-US", {
                weekday: "long"
              }); // Initialize the count variable with the initial value 0

              var count = 0; // Loot through all stylists to be able to loop through their workSchedule 

              allStylists.forEach(function (stylist) {
                // Loop through the each stylist's workSchedule and see if they are all available on dayName
                stylist.workSchedule.forEach(function (schedule) {
                  if (schedule.location === location && schedule.day === dayName) {
                    count += 1;
                  }
                });
              }); // If all stylists are available on this date based on dayName then add that date to filteredDateTimeArray

              if (count === newTreatments.length) filteredDateTimeArray.push(date);
            });
            return _context2.abrupt("return", console.log(filteredDateTimeArray));

          case 29:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function findTimeSlots() {
    return _ref.apply(this, arguments);
  };
}();

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }


/***/ })

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL3dlYnBhY2svcGFnZXMvdGVzdC5iZmI1ODAwMDIxNjdmYjU3NjMxZi5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFNTyxXQUFXLEdBQUcsQ0FDaEIsT0FEZ0IsRUFDUCxPQURPLEVBQ0UsT0FERixFQUNXLE9BRFgsRUFDb0IsT0FEcEIsRUFDNkIsT0FEN0IsRUFDc0MsT0FEdEMsRUFDK0MsT0FEL0MsRUFDd0QsT0FEeEQsRUFDaUUsT0FEakUsRUFDMEUsT0FEMUUsRUFDbUYsT0FEbkYsRUFFaEIsT0FGZ0IsRUFFUCxPQUZPLEVBRUUsT0FGRixFQUVXLE9BRlgsRUFFb0IsT0FGcEIsRUFFNkIsT0FGN0IsRUFFc0MsT0FGdEMsRUFFK0MsT0FGL0MsRUFFd0QsT0FGeEQsRUFFaUUsT0FGakUsRUFFMEUsT0FGMUUsRUFFbUYsT0FGbkYsRUFHaEIsT0FIZ0IsRUFHUCxPQUhPLEVBR0UsT0FIRixFQUdXLE9BSFgsRUFHb0IsT0FIcEIsQ0FBcEI7QUFNTyxJQUFNQyxhQUFhO0FBQUEseVlBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR25CQyxZQUFBQSxhQUhtQixHQUdILENBQ2xCO0FBQ0lDLGNBQUFBLFFBQVEsRUFBRSxPQURkO0FBRUlDLGNBQUFBLGNBQWMsRUFBRSxpQkFGcEI7QUFHSUMsY0FBQUEsUUFBUSxFQUFFLDhCQUhkO0FBSUlDLGNBQUFBLGlCQUFpQixFQUFFLEVBSnZCO0FBS0lDLGNBQUFBLGNBQWMsRUFBRSxFQUxwQjtBQU1JQyxjQUFBQSxjQUFjLEVBQUU7QUFOcEIsYUFEa0IsRUFTbEI7QUFDSUwsY0FBQUEsUUFBUSxFQUFFLFlBRGQ7QUFFSUMsY0FBQUEsY0FBYyxFQUFFLGlCQUZwQjtBQUdJQyxjQUFBQSxRQUFRLEVBQUUsOEJBSGQ7QUFJSUMsY0FBQUEsaUJBQWlCLEVBQUUsRUFKdkI7QUFLSUMsY0FBQUEsY0FBYyxFQUFFLEVBTHBCO0FBTUlDLGNBQUFBLGNBQWMsRUFBRTtBQU5wQixhQVRrQixFQWlCbEI7QUFDSUwsY0FBQUEsUUFBUSxFQUFFLGtCQURkO0FBRUlDLGNBQUFBLGNBQWMsRUFBRSxnQkFGcEI7QUFHSUMsY0FBQUEsUUFBUSxFQUFFLDhCQUhkO0FBSUlDLGNBQUFBLGlCQUFpQixFQUFFLEVBSnZCO0FBS0lDLGNBQUFBLGNBQWMsRUFBRSxFQUxwQjtBQU1JQyxjQUFBQSxjQUFjLEVBQUU7QUFOcEIsYUFqQmtCLENBSEc7QUErQm5CSCxZQUFBQSxRQS9CbUIsR0ErQlJILGFBQWEsQ0FBQyxDQUFELENBQWIsQ0FBaUJHLFFBL0JUO0FBQUE7QUFBQSxtQkFnQ0FULG1EQUFRLEVBaENSOztBQUFBO0FBZ0NuQmEsWUFBQUEsVUFoQ21CO0FBQUE7QUFBQSxtQkFpQ0NYLHlEQUFXLENBQUNJLGFBQUQsQ0FqQ1o7O0FBQUE7QUFpQ25CUSxZQUFBQSxXQWpDbUI7QUFBQTtBQUFBLG1CQW1DSWhCLHlFQUFtQixFQW5DdkI7O0FBQUE7QUFtQ25CaUIsWUFBQUEsY0FuQ21CO0FBcUNuQkMsWUFBQUEsY0FyQ21CLEdBcUNGLEVBckNFO0FBdUN6QlYsWUFBQUEsYUFBYSxDQUFDVyxPQUFkLENBQXNCLFVBQUFDLFNBQVMsRUFBSTtBQUMvQkYsY0FBQUEsY0FBYyxDQUFDRyxJQUFmLENBQW9CRCxTQUFTLENBQUNWLGNBQTlCO0FBQ0gsYUFGRDtBQWdCQVksWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLEtBQVo7QUFDQUYsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlQLFdBQVo7QUFDQU0sWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlOLGNBQVosRUF6RHlCLENBNkR6QjtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBR0E7QUFDQTs7QUFDTVEsWUFBQUEscUJBMUVtQixHQTBFSyxFQTFFTCxFQTZFekI7O0FBQ0FWLFlBQUFBLFVBQVUsQ0FBQ0ksT0FBWCxDQUFtQixVQUFBTyxJQUFJLEVBQUk7QUFFdkIsa0JBQU1DLE9BQU8sR0FBRyxJQUFJQyxJQUFKLENBQVNGLElBQVQsQ0FBaEIsQ0FGdUIsQ0FJdkI7O0FBQ0Esa0JBQU1HLE9BQU8sR0FBR0YsT0FBTyxDQUFDRyxrQkFBUixDQUEyQixPQUEzQixFQUFvQztBQUFFQyxnQkFBQUEsT0FBTyxFQUFFO0FBQVgsZUFBcEMsQ0FBaEIsQ0FMdUIsQ0FPdkI7O0FBQ0Esa0JBQUlDLEtBQUssR0FBRyxDQUFaLENBUnVCLENBVXZCOztBQUNBaEIsY0FBQUEsV0FBVyxDQUFDRyxPQUFaLENBQW9CLFVBQUFjLE9BQU8sRUFBSTtBQUUzQjtBQUNBQSxnQkFBQUEsT0FBTyxDQUFDQyxZQUFSLENBQXFCZixPQUFyQixDQUE2QixVQUFBZ0IsUUFBUSxFQUFJO0FBRXJDLHNCQUFHQSxRQUFRLENBQUN4QixRQUFULEtBQXNCQSxRQUF0QixJQUFrQ3dCLFFBQVEsQ0FBQ0MsR0FBVCxLQUFpQlAsT0FBdEQsRUFBK0Q7QUFDM0RHLG9CQUFBQSxLQUFLLElBQUksQ0FBVDtBQUNIO0FBQ0osaUJBTEQ7QUFPSCxlQVZELEVBWHVCLENBdUJ2Qjs7QUFDQSxrQkFBR0EsS0FBSyxLQUFLeEIsYUFBYSxDQUFDNkIsTUFBM0IsRUFBbUNaLHFCQUFxQixDQUFDSixJQUF0QixDQUEyQkssSUFBM0I7QUFFdEMsYUExQkQ7QUE5RXlCLDhDQTBHbEJKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxxQkFBWixDQTFHa0I7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsR0FBSDs7QUFBQSxrQkFBYmxCLGFBQWE7QUFBQTtBQUFBO0FBQUEsR0FBbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2ZpbmQtdGltZS1zbG90cy1jb3B5L2ZpbmRUaW1lU2xvdHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTW9kdWxlcyBuZWVkZWQgdG8gZmV0Y2ggZXZlbnRzXHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuaW1wb3J0IHsgZmV0Y2hTdHlsaXN0c0V2ZW50cyB9IGZyb20gXCIuL2ZldGNoU3R5bGlzdHNFdmVudHNcIjtcclxuaW1wb3J0IHsgZmluZEJ1c3lUaW1lcyB9IGZyb20gXCIuL2ZpbmRCdXN5VGltZXNcIjtcclxuaW1wb3J0IHsgZ2V0RGF0ZXMgfSBmcm9tIFwiLi9nZXREYXRlc1wiO1xyXG5pbXBvcnQgeyBnZXRFdmVudERldGFpbHMgfSBmcm9tIFwiLi9nZXRFdmVudERldGFpbHNcIjtcclxuaW1wb3J0IHsgZ2V0U3R5bGlzdHMgfSBmcm9tIFwiLi9nZXRTdHlsaXN0c1wiO1xyXG5pbXBvcnQgeyBnZXRTdHlsaXN0c0FsbFdvcmtpbmdUaW1lcyB9IGZyb20gXCIuL2hlbHBlci1mdW5jdGlvbnMvZ2V0U3R5bGlzdHNBbGxXb3JraW5nVGltZXNcIjtcclxuXHJcbmNvbnN0IGRlZmF1bHRUaW1lID0gW1xyXG4gICAgXCIxMDowMFwiLCBcIjEwOjE1XCIsIFwiMTA6MzBcIiwgXCIxMDo0NVwiLCBcIjExOjAwXCIsIFwiMTE6MTVcIiwgXCIxMTozMFwiLCBcIjExOjQ1XCIsIFwiMTI6MDBcIiwgXCIxMjoxNVwiLCBcIjEyOjMwXCIsIFwiMTI6NDVcIiwgXHJcbiAgICBcIjEzOjAwXCIsIFwiMTM6MTVcIiwgXCIxMzozMFwiLCBcIjEzOjQ1XCIsIFwiMTQ6MDBcIiwgXCIxNDoxNVwiLCBcIjE0OjMwXCIsIFwiMTQ6NDVcIiwgXCIxNTowMFwiLCBcIjE1OjE1XCIsIFwiMTU6MzBcIiwgXCIxNTo0NVwiLCBcclxuICAgIFwiMTY6MDBcIiwgXCIxNjoxNVwiLCBcIjE2OjMwXCIsIFwiMTY6NDVcIiwgXCIxNzowMFwiXHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBmaW5kVGltZVNsb3RzID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuXHJcbiAgICBjb25zdCBuZXdUcmVhdG1lbnRzID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiQnJvd3NcIixcclxuICAgICAgICAgICAgY2hvb3NlblN0eWxpc3Q6IFwiTmljb2xlIEdvcmdlb3VzXCIsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIkF0aGVuYSBCZWF1dHkgQ2FyZSAtIEd1bHNoYW5cIixcclxuICAgICAgICAgICAgdHJlYXRtZW50RHVyYXRpb246IDM1LFxyXG4gICAgICAgICAgICB0cmVhdG1lbnRQcmljZTogMjMsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudFRpdGxlOiBcIlNoYXBpbmcgYnJvd3NcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJQbGFzbWEgSW9uXCIsXHJcbiAgICAgICAgICAgIGNob29zZW5TdHlsaXN0OiBcIkFuZHJlYSBHb3JnZW91c1wiLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogXCJBdGhlbmEgQmVhdXR5IENhcmUgLSBHdWxzaGFuXCIsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudER1cmF0aW9uOiA3MCxcclxuICAgICAgICAgICAgdHJlYXRtZW50UHJpY2U6IDQyLFxyXG4gICAgICAgICAgICB0cmVhdG1lbnRUaXRsZTogXCJQbGFzbWEgSW9uIHdpdGggbGlnaHQgZmFjaWFsc1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIlBlcm1hbmVudCBNYWtldXBcIixcclxuICAgICAgICAgICAgY2hvb3NlblN0eWxpc3Q6IFwiU291ZGkgR29yZ2VvdXNcIixcclxuICAgICAgICAgICAgbG9jYXRpb246IFwiQXRoZW5hIEJlYXV0eSBDYXJlIC0gR3Vsc2hhblwiLFxyXG4gICAgICAgICAgICB0cmVhdG1lbnREdXJhdGlvbjogODUsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudFByaWNlOiA0NSxcclxuICAgICAgICAgICAgdHJlYXRtZW50VGl0bGU6IFwiUGVybWFuZW50IE1ha2V1cCB3aXRoIGxpZ2h0IG1hc3NhZ2VcIlxyXG4gICAgICAgIH1cclxuICAgIF07XHJcblxyXG5cclxuICAgIGNvbnN0IGxvY2F0aW9uID0gbmV3VHJlYXRtZW50c1swXS5sb2NhdGlvbjtcclxuICAgIGNvbnN0IGRhdGVzQXJyYXkgPSBhd2FpdCBnZXREYXRlcygpO1xyXG4gICAgY29uc3QgYWxsU3R5bGlzdHMgPSBhd2FpdCBnZXRTdHlsaXN0cyhuZXdUcmVhdG1lbnRzKTtcclxuICAgIC8vIEZldGNoaW5nIGNhbGVuZGFyIGV2ZW50cyBvZiBhbGwgc3R5bGlzdHNcclxuICAgIGNvbnN0IGNhbGVuZGFyRXZlbnRzID0gYXdhaXQgZmV0Y2hTdHlsaXN0c0V2ZW50cygpO1xyXG5cclxuICAgIGNvbnN0IHN0eWxpc3RzQnlOYW1lID0gW107XHJcblxyXG4gICAgbmV3VHJlYXRtZW50cy5mb3JFYWNoKHRyZWF0bWVudCA9PiB7XHJcbiAgICAgICAgc3R5bGlzdHNCeU5hbWUucHVzaCh0cmVhdG1lbnQuY2hvb3NlblN0eWxpc3QpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcbiBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgXHJcbiAgIFxyXG5cclxuICAgIGNvbnNvbGUubG9nKGRhdGVzKTtcclxuICAgIGNvbnNvbGUubG9nKGFsbFN0eWxpc3RzKTtcclxuICAgIGNvbnNvbGUubG9nKGNhbGVuZGFyRXZlbnRzKTtcclxuXHJcblxyXG5cclxuICAgIC8vIGNhbGVuZGFyRXZlbnRzLmZvckVhY2goY2FsZW5kYXJFdmVudCA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2cobmV3IERhdGUoY2FsZW5kYXJFdmVudC5zdGFydFRpbWUpLCBuZXcgRGF0ZShjYWxlbmRhckV2ZW50LmVuZFRpbWUpKTtcclxuICAgIC8vIH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gU3RlcHNcclxuXHJcbiAgICAvLyAxLiBkYXRlVGltZUFycmF5IGNvbnRhaW5zIHRoZSBkYXRlcyBvZiAzMCBkYXlzIGZyb20gdG9kYXkuIFxyXG5cclxuXHJcbiAgICAvLyBGaW5kIGFsbCB0aGUgZGF0ZXMgYmFzZWQgb24gZGF5TmFtZSAoZXhhbXBsZSAtIE1vbmRheSkgd2hlbiBhbGwgY2hvb3NlbiBzdHlsaXN0cyBhcmUgYXZhaWxhYmxlIGF0IHRoZSBjaG9vc2VuIGxvY2F0aW9uXHJcbiAgICAvLyBhbmQgcHVzaCBpdCB0byB0aGUgZmlsdGVyZWREYXRlVGltZUFycmF5IFxyXG4gICAgY29uc3QgZmlsdGVyZWREYXRlVGltZUFycmF5ID0gW107XHJcblxyXG5cclxuICAgIC8vIEZvciBlYWNoIGRhdGUgb2YgdGhlIGRhdGVUaW1lQXJyYXkgbG9vcCB0aHJvdWdoIHRoZSBlYWNoIHN0eWxpc3QncyB3b3JrU2NoZHVsZSB0byBmaW5kIGRheSBtYXRjaC5cclxuICAgIGRhdGVzQXJyYXkuZm9yRWFjaChkYXRlID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGRheSBuYW1lIChleGFtcGxlIC0gTW9uZGF5KSBmcm9tIHRoZSBkYXRlIHRvIGNoZWNrIGFnYWluc3QgZWFjaCBzdHlsaXN0J3Mgd29ya1NjaGVkdWxlJ3MgZGF5IE5hbWVcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gbmV3RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pO1xyXG5cclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb3VudCB2YXJpYWJsZSB3aXRoIHRoZSBpbml0aWFsIHZhbHVlIDBcclxuICAgICAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgICAgICAvLyBMb290IHRocm91Z2ggYWxsIHN0eWxpc3RzIHRvIGJlIGFibGUgdG8gbG9vcCB0aHJvdWdoIHRoZWlyIHdvcmtTY2hlZHVsZSBcclxuICAgICAgICBhbGxTdHlsaXN0cy5mb3JFYWNoKHN0eWxpc3QgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBlYWNoIHN0eWxpc3QncyB3b3JrU2NoZWR1bGUgYW5kIHNlZSBpZiB0aGV5IGFyZSBhbGwgYXZhaWxhYmxlIG9uIGRheU5hbWVcclxuICAgICAgICAgICAgc3R5bGlzdC53b3JrU2NoZWR1bGUuZm9yRWFjaChzY2hlZHVsZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoc2NoZWR1bGUubG9jYXRpb24gPT09IGxvY2F0aW9uICYmIHNjaGVkdWxlLmRheSA9PT0gZGF5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgYWxsIHN0eWxpc3RzIGFyZSBhdmFpbGFibGUgb24gdGhpcyBkYXRlIGJhc2VkIG9uIGRheU5hbWUgdGhlbiBhZGQgdGhhdCBkYXRlIHRvIGZpbHRlcmVkRGF0ZVRpbWVBcnJheVxyXG4gICAgICAgIGlmKGNvdW50ID09PSBuZXdUcmVhdG1lbnRzLmxlbmd0aCkgZmlsdGVyZWREYXRlVGltZUFycmF5LnB1c2goZGF0ZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKGZpbHRlcmVkRGF0ZVRpbWVBcnJheSk7XHJcblxyXG5cclxuICAgIC8vIGNvbnN0IHN0eWxpc3RzV29ya2luZ1RpbWVzID0gZ2V0U3R5bGlzdHNBbGxXb3JraW5nVGltZXMoZmlsdGVyZWREYXRlVGltZUFycmF5LCBhbGxTdHlsaXN0cyk7XHJcbiAgICAvLyByZXR1cm4gY29uc29sZS5sb2coc3R5bGlzdHNXb3JraW5nVGltZXMpO1xyXG5cclxuXHJcbiAgICBmaWx0ZXJlZERhdGVUaW1lQXJyYXkuZm9yRWFjaChuZXdEYXRlVGltZSA9PiB7XHJcblxyXG4gICAgICAgIHN0eWxpc3RzQnlOYW1lLmZvckVhY2goc3R5bGlzdE5hbWUgPT4ge1xyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBjYWxlbmRhckV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudERhdGUgPSBldmVudC5zdGFydFRpbWUuc3Vic3RyaW5nKDAsIGV2ZW50LnN0YXJ0VGltZS5pbmRleE9mKFwiVFwiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoc3R5bGlzdE5hbWUgPT09IGV2ZW50LnN0eWxpc3QgJiYgbmV3RGF0ZVRpbWUuZGF0ZSA9PT0gZXZlbnREYXRlICYmIGxvY2F0aW9uID09PSBldmVudC5ldmVudExvY2F0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuO1xyXG5cclxuXHJcblxyXG4gICAgXHJcblxyXG5cclxuICAgIC8vIGNvbnN0IHN0eWxpc3RzV2l0aEJ1c3lUaW1lcyA9IFtdO1xyXG5cclxuICAgIC8vIGZpbHRlcmVkRGF0ZVRpbWVBcnJheS5mb3JFYWNoKGRhdGVUaW1lID0+IHtcclxuXHJcbiAgICAgICAgXHJcbiAgICAvLyAgICAgY2FsZW5kYXJFdmVudHMuZm9yRWFjaChldmVudCA9PiB7XHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBldmVudERhdGUgPSBldmVudC5zdGFydFRpbWUuc3Vic3RyaW5nKDAsIGV2ZW50LnN0YXJ0VGltZS5pbmRleE9mKFwiVFwiKSk7XHJcblxyXG4gICAgLy8gICAgICAgICBpZihkYXRlVGltZS5kYXRlICE9PSBldmVudERhdGUpIHJldHVybjtcclxuXHJcbiAgICAvLyAgICAgICAgIGlmKGV2ZW50LmV2ZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKSByZXR1cm47XHJcblxyXG4gICAgLy8gICAgICAgICBpZighc3R5bGlzdHNCeU5hbWUuaW5jbHVkZXMoZXZlbnQuc3R5bGlzdCkpIHJldHVybjtcclxuXHJcblxyXG4gICAgLy8gICAgICAgICBjb25zdCBldmVudFN0YXJ0VGltZSA9IGV2ZW50LnN0YXJ0VGltZS5zdWJzdHJpbmcoZXZlbnQuc3RhcnRUaW1lLmluZGV4T2YoXCJUXCIpICsgMSwgZXZlbnQuc3RhcnRUaW1lLmxlbmd0aCk7XHJcbiAgICAvLyAgICAgICAgIGNvbnN0IGV2ZW50RW5kVGltZSA9IGV2ZW50LmVuZFRpbWUuc3Vic3RyaW5nKGV2ZW50LmVuZFRpbWUuaW5kZXhPZihcIlRcIikgKyAxLCBldmVudC5lbmRUaW1lLmxlbmd0aCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgXHJcblxyXG5cclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICAvLyB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIGNvbnN0IHN0eWxpc3RzV2l0aEZyZWVUaW1lcyA9IFtdO1xyXG4gICAgXHJcbiAgICBjYWxlbmRhckV2ZW50cy5mb3JFYWNoKChjYWxlbmRhckV2ZW50LCBjYWxlbmRhckV2ZW50SW5kZXgpID0+IHtcclxuXHJcbiAgICAgICAgaWYoY2FsZW5kYXJFdmVudC5zdHlsaXN0ICE9PSBcIk5vIHByZWZlcmVuY2VcIikge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbmV3RGF0ZVRpbWVBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZGF0ZVRpbWVBcnJheS5mb3JFYWNoKChkYXRlVGltZSwgZGF0ZVRpbWVJbmRleCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBidXN5VGltZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCBmcmVlVGltZXMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhbGVuZGFyRXZlbnQuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY2FsZW5kYXJFdmVudC5ldmVudHNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB7IGV2ZW50RGF0ZSwgc3RhcnRUaW1lLCBzdGFydGluZ0hvdXIsIHN0YXJ0aW5nTWludXRlLCBldmVudER1cmF0aW9uIH0gPSBnZXRFdmVudERldGFpbHMoZXZlbnQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0ZVRpbWUuZGF0ZSA9PT0gZXZlbnREYXRlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidXN5VGltZXMucHVzaChzdGFydFRpbWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMTsgaiA8IE1hdGguY2VpbChldmVudER1cmF0aW9uIC8gMTUpOyBqKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAoMTUgKiBqKSArIHN0YXJ0aW5nTWludXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXIgPSBzdGFydGluZ0hvdXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJ2YWwgLyA2MCBnaXZlcyB1cyB0aGUgdmFsdWUgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIHRvIGhvdXIuIEZvciBleGFtcGxlIC0gaWYgaW50ZXJ2YWwgaXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA3NSB0aGVuIHdlIG11c3QgYWRkIDEgd2l0aCBob3VyIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXJJbmNyZW1lbnQgPSBNYXRoLmZsb29yKGludGVydmFsIC8gNjApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGluZyBob3VyIGluY3JlbWVudCB3aXRoIGhvdXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIgKz0gaG91ckluY3JlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBob3VySW5jcmVtZW50IGlzIG1vcmUgdGhhbiBvciBlcXVhbCB0byAxIHRoZW4gaW50ZXJ2YWwgdmFsdWUgbXVzdCBiZSByZS1jYWxjdWxhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihob3VySW5jcmVtZW50ID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IGludGVydmFsIC0gKDYwICogaG91ckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaW50ZXJ2YWwgaXMgMCB0aGVuIGFkZCBleHRyYSBvbmUgMCB0byBrZWVwIHRoZSBtaW51dGUgdmFsdWUgaW4gdHdvIGRpZ2l0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJ2YWwgPT09IDApIGludGVydmFsICs9IFwiMFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGhvdXIgaXMgbGVzcyB0aGFuIDEwIHRoZW4gYWRkIGEgMCBiZWZvcmUgaXQgdG8gbWFrZSBpdCBjb25zaXN0ZW50IHdpdGggY2FsZW5kYXIgaG91ci9taW51dGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhvdXIgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzeVRpbWVzLnB1c2goYDAke2hvdXJ9OiR7aW50ZXJ2YWx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lUaW1lcy5wdXNoKGAke2hvdXJ9OiR7aW50ZXJ2YWx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZighYnVzeVRpbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lLmRlZmF1bHRUaW1lLmZvckVhY2godGltZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyZWVUaW1lcy5wdXNoKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lLmRlZmF1bHRUaW1lLmZvckVhY2godGltZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighYnVzeVRpbWVzLmluY2x1ZGVzKHRpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVlVGltZXMucHVzaCh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG5ld0RhdGVUaW1lQXJyYXkucHVzaCh7ZGF0ZTogZGF0ZVRpbWUuZGF0ZSwgZnJlZVRpbWVzfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3R5bGlzdHNXaXRoRnJlZVRpbWVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGNhbGVuZGFyRXZlbnQudHJlYXRtZW50VGl0bGUsXHJcbiAgICAgICAgICAgICAgICBzdHlsaXN0OiBjYWxlbmRhckV2ZW50LnN0eWxpc3QsIFxyXG4gICAgICAgICAgICAgICAgZW1haWw6IGNhbGVuZGFyRXZlbnQuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogY2FsZW5kYXJFdmVudC5kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIGZyZWVUaW1lc0FycmF5OiBuZXdEYXRlVGltZUFycmF5XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FsZW5kYXJFdmVudC5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdEYXRlVGltZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICBkYXRlVGltZUFycmF5LmZvckVhY2goYXN5bmMgKGRhdGVUaW1lLCBkYXRlVGltZUluZGV4KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBidXN5VGltZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZnJlZVRpbWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBjYWxlbmRhckV2ZW50LmV2ZW50c1tpXS5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjYWxlbmRhckV2ZW50LmV2ZW50c1tpXVtqXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7IGV2ZW50RGF0ZSwgc3RhcnRUaW1lLCBzdGFydGluZ0hvdXIsIHN0YXJ0aW5nTWludXRlLCBldmVudER1cmF0aW9uIH0gPSBhd2FpdCBnZXRFdmVudERldGFpbHMoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0ZVRpbWUuZGF0ZSA9PT0gZXZlbnREYXRlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzeVRpbWVzLnB1c2goc3RhcnRUaW1lKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBrID0gMTsgayA8IE1hdGguY2VpbChldmVudER1cmF0aW9uIC8gMTUpOyBrKyspIHtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9ICgxNSAqIGspICsgc3RhcnRpbmdNaW51dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXIgPSBzdGFydGluZ0hvdXI7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcnZhbCAvIDYwIGdpdmVzIHVzIHRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmUgYWRkZWQgdG8gaG91ci4gRm9yIGV4YW1wbGUgLSBpZiBpbnRlcnZhbCBpcyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA3NSB0aGVuIHdlIG11c3QgYWRkIDEgd2l0aCBob3VyIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3VySW5jcmVtZW50ID0gTWF0aC5mbG9vcihpbnRlcnZhbCAvIDYwKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGluZyBob3VyIGluY3JlbWVudCB3aXRoIGhvdXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyICs9IGhvdXJJbmNyZW1lbnQ7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBob3VySW5jcmVtZW50IGlzIG1vcmUgdGhhbiBvciBlcXVhbCB0byAxIHRoZW4gaW50ZXJ2YWwgdmFsdWUgbXVzdCBiZSByZS1jYWxjdWxhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaG91ckluY3JlbWVudCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gaW50ZXJ2YWwgLSAoNjAgKiBob3VySW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpbnRlcnZhbCBpcyAwIHRoZW4gYWRkIGV4dHJhIG9uZSAwIHRvIGtlZXAgdGhlIG1pbnV0ZSB2YWx1ZSBpbiB0d28gZGlnaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW50ZXJ2YWwgPT09IDApIGludGVydmFsICs9IFwiMFwiO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaG91ciBpcyBsZXNzIHRoYW4gMTAgdGhlbiBhZGQgYSAwIGJlZm9yZSBpdCB0byBtYWtlIGl0IGNvbnNpc3RlbnQgd2l0aCBjYWxlbmRhciBob3VyL21pbnV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhvdXIgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lUaW1lcy5wdXNoKGAwJHtob3VyfToke2ludGVydmFsfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lUaW1lcy5wdXNoKGAke2hvdXJ9OiR7aW50ZXJ2YWx9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWJ1c3lUaW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWUuZGVmYXVsdFRpbWUuZm9yRWFjaCh0aW1lID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZWVUaW1lcy5wdXNoKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lLmRlZmF1bHRUaW1lLmZvckVhY2godGltZSA9PiB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFidXN5VGltZXMuaW5jbHVkZXModGltZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVlVGltZXMucHVzaCh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0ZVRpbWVBcnJheS5wdXNoKHtkYXRlOiBkYXRlVGltZS5kYXRlLCBmcmVlVGltZXN9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXdBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogY2FsZW5kYXJFdmVudC5zdHlsaXN0c1tpXSxcclxuICAgICAgICAgICAgICAgICAgICBmcmVlVGltZXNBcnJheTogbmV3RGF0ZVRpbWVBcnJheVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdHlsaXN0c1dpdGhGcmVlVGltZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBldmVudDogY2FsZW5kYXJFdmVudC50cmVhdG1lbnRUaXRsZSxcclxuICAgICAgICAgICAgICAgIHN0eWxpc3Q6IGNhbGVuZGFyRXZlbnQuc3R5bGlzdCwgXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogY2FsZW5kYXJFdmVudC5kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgIG5ld0FycmF5OiBuZXdBcnJheVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKHN0eWxpc3RzV2l0aEZyZWVUaW1lcyk7XHJcblxyXG5cclxuICAgIGxldCBhYmNkID0gMDtcclxuICAgIHRyZWF0bWVudHMuZm9yRWFjaChpdGVtID0+IHtcclxuXHJcbiAgICAgICAgaWYoaXRlbS5zdHlsaXN0ICE9PSBcIk5vIHByZWZlcmVuY2VcIikgYWJjZCArPSAoTWF0aC5jZWlsKGl0ZW0uZHVyYXRpb24gLyAxNSkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcblxyXG4gICAgLy8gU3RhcnRpbmcgdGltZXMgZnJvbSB3aGljaCBhbGwgc3R5bGlzdHMgYXJlIGF2YWlsYWJsZSBvbmUgYWZ0ZXIgdGhlIG90aGVyXHJcbiAgICBjb25zdCBhdmFpbGFibGVTdGFydGluZ1RpbWVzV2l0aERhdGVzID0gW107XHJcblxyXG4gICAgZGF0ZVRpbWVBcnJheS5mb3JFYWNoKChkYXRlVGltZSwgaW5kZXgpID0+IHtcclxuXHJcbiAgICAgICAgLy8gVGhpcyBhcnJheSB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIGFsbCB0aGUgc3RhcnRpbmcgZnJlZSB0aW1lcyBvZiBlYWNoIGRhdGUgc3RhcnRpbmcgZnJvbSB0b2RheSB1cCB0byAzMCBkYXlzXHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlVGltZXNCeURhdGUgPSBbXTtcclxuICAgICAgICBcclxuXHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGVUaW1lLmRlZmF1bHRUaW1lLmxlbmd0aCAtIGFiY2Q7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgLy8gdG90YWxUaW1lQ291bnQgdmFsdWUgd2lsbCBiZSB1cGRhdGVkIG9uIGVhY2ggaXRlbSBvZiBzdHlsaXN0c1dpdGhGcmVlVGltZXMgYXJyYXkgaW4gdGhlIGZvbGxvd2luZyBsb29wLiBcclxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGlmIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBoYXMgdGhyZWUgaXRlbXMgKHNheSBmaXJzdCBpdGVtJ3MgZHVyYXRpb24gaXMgNDUsIHNlY29uZCBpcyA1NSBcclxuICAgICAgICAgICAgLy8gYW5kIHRoaXJkIGlzIDI1KSB0aGVuIGF0IHRoZSBlbmQgb2YgdGhlIGxvb3AgdG90YWxUaW1lQ291bnQgd2lsbCBiZSAoTWF0aC5jZWlsKDQ1IC8gMTUpICsgIE1hdGguY2VpbCg1NSAvIDE1KVxyXG4gICAgICAgICAgICAvLyArIE1hdGguY2VpbCgyNSAvIDE1KSkgMyArIDQgKyAyID0gOVxyXG4gICAgICAgICAgICBsZXQgdG90YWxUaW1lQ291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHRlbXBvcmFyeSBhcnJheSB3aGljaCB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIGZyZWUgdGltZXMgb2YgZWFjaCBzdHlsaXN0IGJ5IGxvb3BpbmcgdGhyb3VnaCB0aGUgXHJcbiAgICAgICAgICAgIC8vIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCB0ZW1wID0gW107XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgc3R5bGlzdHNXaXRoRnJlZVRpbWVzLmxlbmd0aDsgaisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN0eWxpc3RzV2l0aEZyZWVUaW1lc1tqXTtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uc3R5bGlzdCAhPT0gXCJObyBwcmVmZXJlbmNlXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ291bnQgd2lsbCBkZXRlcm1pbmUgaG93IG1hbnkgZnJlZSB0aW1lcyBzaG91bGQgYmUgbG9va2VkIGZvci4gRm9yIGV4YW1wbGUgaWYgY291bnQgaXMgMyBhbmQgc3RhcnRpbmdcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aW1lIGlzIDA5OjMwIHRoZW4gMDk6MzAsIDA5OjQ1ICYgMTA6MDAgc2hvdWxkIGJlIGxvb2tlZCBmb3JcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IE1hdGguY2VpbChpdGVtLmR1cmF0aW9uIC8gMTUpOyBcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBBcyBzYWlkIGFib3ZlIHRvdGFsVGltZUNvdW50IG11c3QgYmUgdXBkYXRlZCBvbiBlYWNoIGl0ZW0gb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxUaW1lQ291bnQgKz0gY291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdmVyeSBjcnVjaWFsLiBPbiBlYWNoIGl0ZW0gb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5IHRoaXMgc3RhcnRpbmdUaW1lIHdpbGwgYmUgdXBkYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgZXhhbXBsZSAtIHNheSB3ZSBhcmUgYXQgMDk6MDAgb24gZmlyc3QgaXRlbSBvZiBzdHlsaXN0c1dpdGhGcmVlVGltZXMgYXJyYXksIGNvdW50IGlzIDNcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgc3R5bGlzdCBvZiB0aGlzIGl0ZW0gaXMgYXZhaWxhYmxlIG9uIGFsbCB0aHJlZSB0aW1lcyAwOTowMCwgMDk6MTUgJiA5OjMwLiBTbyBzdGFydGluZ1RpbWUgbXVzdCBiZSBcclxuICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIDA5OjQ1IGZvciB0aGUgMm5kIGl0ZW0gb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5LiBTYXkgZm9yIHRoZSBzZWNvbmQgaXRlbSBjb3VudCBpcyA0IGFuZCBzdHlsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgYXZhaWxhYmxlIG9uIGFsbCBmb3VyIHRpbWVzIDA5OjQ1LCAxMDowMCwgMTA6MTUgJiAxMDozMCwgc28gc3RhcnRpbmdUaW1lIGZvciB0aGUgdGhpcmQgaXRlbSBvZiB0aGUgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheSAxMDo0NS4gXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0aW5nVGltZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0ZW1wIGxlbmd0aCBpcyB6ZXJvIHRoZW4gd2UgYXJlIGF0IHRoZSBmaXJzdCBpdGVtIG9mIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCF0ZW1wLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydGluZ1RpbWUgPSBkYXRlVGltZS5kZWZhdWx0VGltZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBjb25zZWN1dGl2ZSBpdGVtIGFmdGVyIHRoZSBmaXJzdCBvbmUgb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5IHN0YXJ0aW5nVGltZSB3aWxsIGJlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbmV4dCB0aW1lIGFmdGVyIHRoZSB0aW1lIG9mIGxhc3QgaXRlbSBvZiB0ZW1wIGFycmF5LiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IGRhdGVUaW1lLmRlZmF1bHRUaW1lLmluZGV4T2YodGVtcFt0ZW1wLmxlbmd0aCAtIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdUaW1lID0gZGF0ZVRpbWUuZGVmYXVsdFRpbWVbeSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgaG91ciA9IE51bWJlcihzdGFydGluZ1RpbWUuc3Vic3RyaW5nKDAsIDIpKTsgLy8gOVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtaW51dGVzID0gTnVtYmVyKHN0YXJ0aW5nVGltZS5zdWJzdHJpbmcoMywgNSkpOyAvLyAwMFxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDE7IGsgPD0gY291bnQ7IGsrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXJJbmNyZW1lbnQgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIgKz0gaG91ckluY3JlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhvdXJJbmNyZW1lbnQgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IG1pbnV0ZXMgLSAoNjAgKiBob3VySW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgbWludXRlcyBpcyAwIHRoZW4gYWRkIGV4dHJhIG9uZSAwIHRvIGtlZXAgdGhlIG1pbnV0ZSB2YWx1ZSBpbiB0d28gZGlnaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1pbnV0ZXMgPT09IDApIG1pbnV0ZXMgKz0gXCIwXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBob3VyIGlzIGxlc3MgdGhhbiAxMCB0aGVuIGFkZCBhIDAgYmVmb3JlIGl0IHRvIG1ha2UgaXQgY29uc2lzdGVudCB3aXRoIGNhbGVuZGFyIGhvdXIvbWludXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhvdXIgPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IChgMCR7aG91cn06JHttaW51dGVzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IChgJHtob3VyfToke21pbnV0ZXN9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyZWVUaW1lcyA9IGl0ZW0uZnJlZVRpbWVzQXJyYXlbaW5kZXhdLmZyZWVUaW1lcztcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZnJlZVRpbWVzLmluY2x1ZGVzKHRpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2godGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gTnVtYmVyKG1pbnV0ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzICs9IDE1O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNheSBzdGFydGluZ1RpbWUgaXMgMDk6MDAgJiBjb3VudCBpcyAzLiBTbyB0b3RhbFRpbWVDb3VudCBpcyBhbHNvIDMuIEFmdGVyIGZpcnN0IGl0ZXJhdGlvbiB0ZW1wLmxlbmd0aCBcclxuICAgICAgICAgICAgICAgICAgICAvLyBtdXN0IGJlIGVxdWFscyB0byAzIG90aGVyd2lzZSBpdCBtZWFucyB0aGF0IHN0eWxpc3QgaXMgbm90IGF2YWlsYWJsZSBhdCBhbGwgdGhyZWUgdGltZXMgKDA5OjAwLiAwOToxNSAmIDA5OjMwKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHN1Y2ggY2FzZSBmdXJ0aGVyIGl0ZXJhdGlvbiBpcyBub3QgbmVjZXNzYXJ5LiBcclxuICAgICAgICAgICAgICAgICAgICBpZih0ZW1wLmxlbmd0aCA8IHRvdGFsVGltZUNvdW50KSBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZih0b3RhbFRpbWVDb3VudCA9PT0gdGVtcC5sZW5ndGgpIGF2YWlsYWJsZVRpbWVzQnlEYXRlLnB1c2goZGF0ZVRpbWUuZGVmYXVsdFRpbWVbaV0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF2YWlsYWJsZVN0YXJ0aW5nVGltZXNXaXRoRGF0ZXMucHVzaCh7ZGF0ZTogZGF0ZVRpbWUuZGF0ZSwgdGltZXM6IGF2YWlsYWJsZVRpbWVzQnlEYXRlfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGNvbnNvbGUubG9nKGF2YWlsYWJsZVN0YXJ0aW5nVGltZXNXaXRoRGF0ZXMpO1xyXG4gICAgXHJcblxyXG4gICBcclxuXHJcbiAgICBcclxuXHJcbiAgIFxyXG5cclxuXHJcblxyXG5cclxuXHJcbn0gIFxyXG5cclxuICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIFxyXG5cclxuXHJcblxyXG5cclxuICAgIFxyXG5cclxuICAgIl0sIm5hbWVzIjpbImF4aW9zIiwiZmV0Y2hTdHlsaXN0c0V2ZW50cyIsImZpbmRCdXN5VGltZXMiLCJnZXREYXRlcyIsImdldEV2ZW50RGV0YWlscyIsImdldFN0eWxpc3RzIiwiZ2V0U3R5bGlzdHNBbGxXb3JraW5nVGltZXMiLCJkZWZhdWx0VGltZSIsImZpbmRUaW1lU2xvdHMiLCJuZXdUcmVhdG1lbnRzIiwiY2F0ZWdvcnkiLCJjaG9vc2VuU3R5bGlzdCIsImxvY2F0aW9uIiwidHJlYXRtZW50RHVyYXRpb24iLCJ0cmVhdG1lbnRQcmljZSIsInRyZWF0bWVudFRpdGxlIiwiZGF0ZXNBcnJheSIsImFsbFN0eWxpc3RzIiwiY2FsZW5kYXJFdmVudHMiLCJzdHlsaXN0c0J5TmFtZSIsImZvckVhY2giLCJ0cmVhdG1lbnQiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImRhdGVzIiwiZmlsdGVyZWREYXRlVGltZUFycmF5IiwiZGF0ZSIsIm5ld0RhdGUiLCJEYXRlIiwiZGF5TmFtZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJjb3VudCIsInN0eWxpc3QiLCJ3b3JrU2NoZWR1bGUiLCJzY2hlZHVsZSIsImRheSIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=