"use strict";
self["webpackHotUpdate_N_E"]("pages/test",{

/***/ "./lib/find-time-slots-copy/findTimeSlots.js":
/*!***************************************************!*\
  !*** ./lib/find-time-slots-copy/findTimeSlots.js ***!
  \***************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "findTimeSlots": function() { return /* binding */ findTimeSlots; }
/* harmony export */ });
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _fetchStylistsEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fetchStylistsEvents */ "./lib/find-time-slots-copy/fetchStylistsEvents.js");
/* harmony import */ var _findBusyTimes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./findBusyTimes */ "./lib/find-time-slots-copy/findBusyTimes.js");
/* harmony import */ var _getDates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./getDates */ "./lib/find-time-slots-copy/getDates.js");
/* harmony import */ var _getEventDetails__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./getEventDetails */ "./lib/find-time-slots-copy/getEventDetails.js");
/* harmony import */ var _getStylists__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./getStylists */ "./lib/find-time-slots-copy/getStylists.js");
/* harmony import */ var _helper_functions_getStylistsAllWorkingTimes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helper-functions/getStylistsAllWorkingTimes */ "./lib/find-time-slots-copy/helper-functions/getStylistsAllWorkingTimes.js");
/* module decorator */ module = __webpack_require__.hmd(module);


// Modules needed to fetch events







var defaultTime = ["10:00", "10:15", "10:30", "10:45", "11:00", "11:15", "11:30", "11:45", "12:00", "12:15", "12:30", "12:45", "13:00", "13:15", "13:30", "13:45", "14:00", "14:15", "14:30", "14:45", "15:00", "15:15", "15:30", "15:45", "16:00", "16:15", "16:30", "16:45", "17:00"];
var findTimeSlots = /*#__PURE__*/function () {
  var _ref = (0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)( /*#__PURE__*/D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee2() {
    var newTreatments, location, datesArray, allStylists, calendarEvents, stylistsByName, stylistsWorkingTimesOnAvailableDates, stylistsWithFreeTimes, abcd, availableStartingTimesWithDates;
    return D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            newTreatments = [{
              category: "Brows",
              choosenStylist: "Nicole Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 35,
              treatmentPrice: 23,
              treatmentTitle: "Shaping brows"
            }, {
              category: "Plasma Ion",
              choosenStylist: "Andrea Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 70,
              treatmentPrice: 42,
              treatmentTitle: "Plasma Ion with light facials"
            }, {
              category: "Permanent Makeup",
              choosenStylist: "Soudi Gorgeous",
              location: "Athena Beauty Care - Gulshan",
              treatmentDuration: 85,
              treatmentPrice: 45,
              treatmentTitle: "Permanent Makeup with light massage"
            }];
            location = newTreatments[0].location;
            _context2.next = 4;
            return (0,_getDates__WEBPACK_IMPORTED_MODULE_5__.getDates)();

          case 4:
            datesArray = _context2.sent;
            _context2.next = 7;
            return (0,_getStylists__WEBPACK_IMPORTED_MODULE_7__.getStylists)(newTreatments);

          case 7:
            allStylists = _context2.sent;
            _context2.next = 10;
            return (0,_fetchStylistsEvents__WEBPACK_IMPORTED_MODULE_3__.fetchStylistsEvents)();

          case 10:
            calendarEvents = _context2.sent;
            stylistsByName = [];
            newTreatments.forEach(function (treatment) {
              stylistsByName.push(treatment.choosenStylist);
            });
            console.log(datesArray);
            console.log(allStylists);
            console.log(calendarEvents); // calendarEvents.forEach(calendarEvent => {
            //     console.log(new Date(calendarEvent.startTime), new Date(calendarEvent.endTime));
            // });
            // Steps
            // 1. dateTimeArray contains the dates of 30 days from today. 

            stylistsWorkingTimesOnAvailableDates = []; // For each date of the dateTimeArray loop through the each stylist's workSchdule to find day match.

            datesArray.forEach(function (date) {
              var newDate = new Date(date); // get the day name (example - Monday) from the date to check against each stylist's workSchedule's day Name

              var dayName = newDate.toLocaleDateString("en-US", {
                weekday: "long"
              });
              var temp = []; // Loot through all stylists to be able to loop through their workSchedule 

              allStylists.forEach(function (stylist) {
                // Loop through the each stylist's workSchedule and see if they are all available on dayName
                stylist.workSchedule.forEach(function (schedule) {
                  if (schedule.location === location && schedule.day === dayName) {
                    count += 1;
                    var workingTimes = (0,_helper_functions_getStylistsAllWorkingTimes__WEBPACK_IMPORTED_MODULE_8__.getStylistsAllWorkingTimes)(schedule.startTime, schedule.endTime);
                    temp.push({
                      stylist: stylist.firstName + " " + stylist.lastName,
                      workingTimes: workingTimes
                    });
                  }
                });
              });
              if (temp.length === newTreatments.length) stylistsWorkingTimesOnAvailableDates.push({
                date: date,
                stylistWorkingTimes: temp
              });
            });
            return _context2.abrupt("return", console.log(stylistsWorkingTimesOnAvailableDates));

          case 29:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2);
  }));

  return function findTimeSlots() {
    return _ref.apply(this, arguments);
  };
}();

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }


/***/ })

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL3dlYnBhY2svcGFnZXMvdGVzdC5lNWM4MzhlN2FmYzJkMjdlNmZhNi5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxJQUFNTyxXQUFXLEdBQUcsQ0FDaEIsT0FEZ0IsRUFDUCxPQURPLEVBQ0UsT0FERixFQUNXLE9BRFgsRUFDb0IsT0FEcEIsRUFDNkIsT0FEN0IsRUFDc0MsT0FEdEMsRUFDK0MsT0FEL0MsRUFDd0QsT0FEeEQsRUFDaUUsT0FEakUsRUFDMEUsT0FEMUUsRUFDbUYsT0FEbkYsRUFFaEIsT0FGZ0IsRUFFUCxPQUZPLEVBRUUsT0FGRixFQUVXLE9BRlgsRUFFb0IsT0FGcEIsRUFFNkIsT0FGN0IsRUFFc0MsT0FGdEMsRUFFK0MsT0FGL0MsRUFFd0QsT0FGeEQsRUFFaUUsT0FGakUsRUFFMEUsT0FGMUUsRUFFbUYsT0FGbkYsRUFHaEIsT0FIZ0IsRUFHUCxPQUhPLEVBR0UsT0FIRixFQUdXLE9BSFgsRUFHb0IsT0FIcEIsQ0FBcEI7QUFNTyxJQUFNQyxhQUFhO0FBQUEseVlBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR25CQyxZQUFBQSxhQUhtQixHQUdILENBQ2xCO0FBQ0lDLGNBQUFBLFFBQVEsRUFBRSxPQURkO0FBRUlDLGNBQUFBLGNBQWMsRUFBRSxpQkFGcEI7QUFHSUMsY0FBQUEsUUFBUSxFQUFFLDhCQUhkO0FBSUlDLGNBQUFBLGlCQUFpQixFQUFFLEVBSnZCO0FBS0lDLGNBQUFBLGNBQWMsRUFBRSxFQUxwQjtBQU1JQyxjQUFBQSxjQUFjLEVBQUU7QUFOcEIsYUFEa0IsRUFTbEI7QUFDSUwsY0FBQUEsUUFBUSxFQUFFLFlBRGQ7QUFFSUMsY0FBQUEsY0FBYyxFQUFFLGlCQUZwQjtBQUdJQyxjQUFBQSxRQUFRLEVBQUUsOEJBSGQ7QUFJSUMsY0FBQUEsaUJBQWlCLEVBQUUsRUFKdkI7QUFL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OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEdBQUg7O0FBQUEsa0JBQWJqQixhQUFhO0FBQUE7QUFBQTtBQUFBLEdBQW5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9maW5kLXRpbWUtc2xvdHMtY29weS9maW5kVGltZVNsb3RzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vZHVsZXMgbmVlZGVkIHRvIGZldGNoIGV2ZW50c1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCB7IGZldGNoU3R5bGlzdHNFdmVudHMgfSBmcm9tIFwiLi9mZXRjaFN0eWxpc3RzRXZlbnRzXCI7XHJcbmltcG9ydCB7IGZpbmRCdXN5VGltZXMgfSBmcm9tIFwiLi9maW5kQnVzeVRpbWVzXCI7XHJcbmltcG9ydCB7IGdldERhdGVzIH0gZnJvbSBcIi4vZ2V0RGF0ZXNcIjtcclxuaW1wb3J0IHsgZ2V0RXZlbnREZXRhaWxzIH0gZnJvbSBcIi4vZ2V0RXZlbnREZXRhaWxzXCI7XHJcbmltcG9ydCB7IGdldFN0eWxpc3RzIH0gZnJvbSBcIi4vZ2V0U3R5bGlzdHNcIjtcclxuaW1wb3J0IHsgZ2V0U3R5bGlzdHNBbGxXb3JraW5nVGltZXMgfSBmcm9tIFwiLi9oZWxwZXItZnVuY3Rpb25zL2dldFN0eWxpc3RzQWxsV29ya2luZ1RpbWVzXCI7XHJcblxyXG5jb25zdCBkZWZhdWx0VGltZSA9IFtcclxuICAgIFwiMTA6MDBcIiwgXCIxMDoxNVwiLCBcIjEwOjMwXCIsIFwiMTA6NDVcIiwgXCIxMTowMFwiLCBcIjExOjE1XCIsIFwiMTE6MzBcIiwgXCIxMTo0NVwiLCBcIjEyOjAwXCIsIFwiMTI6MTVcIiwgXCIxMjozMFwiLCBcIjEyOjQ1XCIsIFxyXG4gICAgXCIxMzowMFwiLCBcIjEzOjE1XCIsIFwiMTM6MzBcIiwgXCIxMzo0NVwiLCBcIjE0OjAwXCIsIFwiMTQ6MTVcIiwgXCIxNDozMFwiLCBcIjE0OjQ1XCIsIFwiMTU6MDBcIiwgXCIxNToxNVwiLCBcIjE1OjMwXCIsIFwiMTU6NDVcIiwgXHJcbiAgICBcIjE2OjAwXCIsIFwiMTY6MTVcIiwgXCIxNjozMFwiLCBcIjE2OjQ1XCIsIFwiMTc6MDBcIlxyXG5dXHJcblxyXG5leHBvcnQgY29uc3QgZmluZFRpbWVTbG90cyA9IGFzeW5jICgpID0+IHtcclxuXHJcblxyXG4gICAgY29uc3QgbmV3VHJlYXRtZW50cyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIkJyb3dzXCIsXHJcbiAgICAgICAgICAgIGNob29zZW5TdHlsaXN0OiBcIk5pY29sZSBHb3JnZW91c1wiLFxyXG4gICAgICAgICAgICBsb2NhdGlvbjogXCJBdGhlbmEgQmVhdXR5IENhcmUgLSBHdWxzaGFuXCIsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudER1cmF0aW9uOiAzNSxcclxuICAgICAgICAgICAgdHJlYXRtZW50UHJpY2U6IDIzLFxyXG4gICAgICAgICAgICB0cmVhdG1lbnRUaXRsZTogXCJTaGFwaW5nIGJyb3dzXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IFwiUGxhc21hIElvblwiLFxyXG4gICAgICAgICAgICBjaG9vc2VuU3R5bGlzdDogXCJBbmRyZWEgR29yZ2VvdXNcIixcclxuICAgICAgICAgICAgbG9jYXRpb246IFwiQXRoZW5hIEJlYXV0eSBDYXJlIC0gR3Vsc2hhblwiLFxyXG4gICAgICAgICAgICB0cmVhdG1lbnREdXJhdGlvbjogNzAsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudFByaWNlOiA0MixcclxuICAgICAgICAgICAgdHJlYXRtZW50VGl0bGU6IFwiUGxhc21hIElvbiB3aXRoIGxpZ2h0IGZhY2lhbHNcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJQZXJtYW5lbnQgTWFrZXVwXCIsXHJcbiAgICAgICAgICAgIGNob29zZW5TdHlsaXN0OiBcIlNvdWRpIEdvcmdlb3VzXCIsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOiBcIkF0aGVuYSBCZWF1dHkgQ2FyZSAtIEd1bHNoYW5cIixcclxuICAgICAgICAgICAgdHJlYXRtZW50RHVyYXRpb246IDg1LFxyXG4gICAgICAgICAgICB0cmVhdG1lbnRQcmljZTogNDUsXHJcbiAgICAgICAgICAgIHRyZWF0bWVudFRpdGxlOiBcIlBlcm1hbmVudCBNYWtldXAgd2l0aCBsaWdodCBtYXNzYWdlXCJcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG5cclxuXHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IG5ld1RyZWF0bWVudHNbMF0ubG9jYXRpb247XHJcbiAgICBjb25zdCBkYXRlc0FycmF5ID0gYXdhaXQgZ2V0RGF0ZXMoKTtcclxuICAgIGNvbnN0IGFsbFN0eWxpc3RzID0gYXdhaXQgZ2V0U3R5bGlzdHMobmV3VHJlYXRtZW50cyk7XHJcbiAgICAvLyBGZXRjaGluZyBjYWxlbmRhciBldmVudHMgb2YgYWxsIHN0eWxpc3RzXHJcbiAgICBjb25zdCBjYWxlbmRhckV2ZW50cyA9IGF3YWl0IGZldGNoU3R5bGlzdHNFdmVudHMoKTtcclxuXHJcbiAgICBjb25zdCBzdHlsaXN0c0J5TmFtZSA9IFtdO1xyXG5cclxuICAgIG5ld1RyZWF0bWVudHMuZm9yRWFjaCh0cmVhdG1lbnQgPT4ge1xyXG4gICAgICAgIHN0eWxpc3RzQnlOYW1lLnB1c2godHJlYXRtZW50LmNob29zZW5TdHlsaXN0KTtcclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICBjb25zb2xlLmxvZyhkYXRlc0FycmF5KTtcclxuICAgIGNvbnNvbGUubG9nKGFsbFN0eWxpc3RzKTtcclxuICAgIGNvbnNvbGUubG9nKGNhbGVuZGFyRXZlbnRzKTtcclxuXHJcblxyXG5cclxuICAgIC8vIGNhbGVuZGFyRXZlbnRzLmZvckVhY2goY2FsZW5kYXJFdmVudCA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2cobmV3IERhdGUoY2FsZW5kYXJFdmVudC5zdGFydFRpbWUpLCBuZXcgRGF0ZShjYWxlbmRhckV2ZW50LmVuZFRpbWUpKTtcclxuICAgIC8vIH0pO1xyXG5cclxuXHJcblxyXG4gICAgLy8gU3RlcHNcclxuXHJcbiAgICAvLyAxLiBkYXRlVGltZUFycmF5IGNvbnRhaW5zIHRoZSBkYXRlcyBvZiAzMCBkYXlzIGZyb20gdG9kYXkuIFxyXG5cclxuXHJcbiAgICBjb25zdCBzdHlsaXN0c1dvcmtpbmdUaW1lc09uQXZhaWxhYmxlRGF0ZXMgPSBbXTtcclxuICAgIC8vIEZvciBlYWNoIGRhdGUgb2YgdGhlIGRhdGVUaW1lQXJyYXkgbG9vcCB0aHJvdWdoIHRoZSBlYWNoIHN0eWxpc3QncyB3b3JrU2NoZHVsZSB0byBmaW5kIGRheSBtYXRjaC5cclxuICAgIGRhdGVzQXJyYXkuZm9yRWFjaChkYXRlID0+IHtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG5cclxuICAgICAgICAvLyBnZXQgdGhlIGRheSBuYW1lIChleGFtcGxlIC0gTW9uZGF5KSBmcm9tIHRoZSBkYXRlIHRvIGNoZWNrIGFnYWluc3QgZWFjaCBzdHlsaXN0J3Mgd29ya1NjaGVkdWxlJ3MgZGF5IE5hbWVcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gbmV3RGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoXCJlbi1VU1wiLCB7IHdlZWtkYXk6IFwibG9uZ1wiIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgdGVtcCA9IFtdO1xyXG5cclxuICAgICAgICAvLyBMb290IHRocm91Z2ggYWxsIHN0eWxpc3RzIHRvIGJlIGFibGUgdG8gbG9vcCB0aHJvdWdoIHRoZWlyIHdvcmtTY2hlZHVsZSBcclxuICAgICAgICBhbGxTdHlsaXN0cy5mb3JFYWNoKHN0eWxpc3QgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBlYWNoIHN0eWxpc3QncyB3b3JrU2NoZWR1bGUgYW5kIHNlZSBpZiB0aGV5IGFyZSBhbGwgYXZhaWxhYmxlIG9uIGRheU5hbWVcclxuICAgICAgICAgICAgc3R5bGlzdC53b3JrU2NoZWR1bGUuZm9yRWFjaChzY2hlZHVsZSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoc2NoZWR1bGUubG9jYXRpb24gPT09IGxvY2F0aW9uICYmIHNjaGVkdWxlLmRheSA9PT0gZGF5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdvcmtpbmdUaW1lcyA9IGdldFN0eWxpc3RzQWxsV29ya2luZ1RpbWVzKHNjaGVkdWxlLnN0YXJ0VGltZSwgc2NoZWR1bGUuZW5kVGltZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCh7IHN0eWxpc3Q6IHN0eWxpc3QuZmlyc3ROYW1lICsgXCIgXCIgKyBzdHlsaXN0Lmxhc3ROYW1lLCB3b3JraW5nVGltZXN9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgaWYodGVtcC5sZW5ndGggPT09IG5ld1RyZWF0bWVudHMubGVuZ3RoKSBzdHlsaXN0c1dvcmtpbmdUaW1lc09uQXZhaWxhYmxlRGF0ZXMucHVzaCh7IGRhdGUsIHN0eWxpc3RXb3JraW5nVGltZXM6IHRlbXB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY29uc29sZS5sb2coc3R5bGlzdHNXb3JraW5nVGltZXNPbkF2YWlsYWJsZURhdGVzKTtcclxuXHJcblxyXG5cclxuICAgIGZpbHRlcmVkRGF0ZXMuZm9yRWFjaChuZXdEYXRlVGltZSA9PiB7XHJcblxyXG4gICAgICAgIHN0eWxpc3RzQnlOYW1lLmZvckVhY2goc3R5bGlzdE5hbWUgPT4ge1xyXG5cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBjYWxlbmRhckV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudERhdGUgPSBldmVudC5zdGFydFRpbWUuc3Vic3RyaW5nKDAsIGV2ZW50LnN0YXJ0VGltZS5pbmRleE9mKFwiVFwiKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoc3R5bGlzdE5hbWUgPT09IGV2ZW50LnN0eWxpc3QgJiYgbmV3RGF0ZVRpbWUuZGF0ZSA9PT0gZXZlbnREYXRlICYmIGxvY2F0aW9uID09PSBldmVudC5ldmVudExvY2F0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuO1xyXG5cclxuXHJcblxyXG4gICAgXHJcblxyXG5cclxuICAgIC8vIGNvbnN0IHN0eWxpc3RzV2l0aEJ1c3lUaW1lcyA9IFtdO1xyXG5cclxuICAgIC8vIGZpbHRlcmVkRGF0ZXMuZm9yRWFjaChkYXRlVGltZSA9PiB7XHJcblxyXG4gICAgICAgIFxyXG4gICAgLy8gICAgIGNhbGVuZGFyRXZlbnRzLmZvckVhY2goZXZlbnQgPT4ge1xyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgZXZlbnREYXRlID0gZXZlbnQuc3RhcnRUaW1lLnN1YnN0cmluZygwLCBldmVudC5zdGFydFRpbWUuaW5kZXhPZihcIlRcIikpO1xyXG5cclxuICAgIC8vICAgICAgICAgaWYoZGF0ZVRpbWUuZGF0ZSAhPT0gZXZlbnREYXRlKSByZXR1cm47XHJcblxyXG4gICAgLy8gICAgICAgICBpZihldmVudC5ldmVudExvY2F0aW9uICE9PSBsb2NhdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIC8vICAgICAgICAgaWYoIXN0eWxpc3RzQnlOYW1lLmluY2x1ZGVzKGV2ZW50LnN0eWxpc3QpKSByZXR1cm47XHJcblxyXG5cclxuICAgIC8vICAgICAgICAgY29uc3QgZXZlbnRTdGFydFRpbWUgPSBldmVudC5zdGFydFRpbWUuc3Vic3RyaW5nKGV2ZW50LnN0YXJ0VGltZS5pbmRleE9mKFwiVFwiKSArIDEsIGV2ZW50LnN0YXJ0VGltZS5sZW5ndGgpO1xyXG4gICAgLy8gICAgICAgICBjb25zdCBldmVudEVuZFRpbWUgPSBldmVudC5lbmRUaW1lLnN1YnN0cmluZyhldmVudC5lbmRUaW1lLmluZGV4T2YoXCJUXCIpICsgMSwgZXZlbnQuZW5kVGltZS5sZW5ndGgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIFxyXG5cclxuXHJcbiAgICAvLyAgICAgfSk7XHJcblxyXG4gICAgLy8gfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICBjb25zdCBzdHlsaXN0c1dpdGhGcmVlVGltZXMgPSBbXTtcclxuICAgIFxyXG4gICAgY2FsZW5kYXJFdmVudHMuZm9yRWFjaCgoY2FsZW5kYXJFdmVudCwgY2FsZW5kYXJFdmVudEluZGV4KSA9PiB7XHJcblxyXG4gICAgICAgIGlmKGNhbGVuZGFyRXZlbnQuc3R5bGlzdCAhPT0gXCJObyBwcmVmZXJlbmNlXCIpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0RhdGVUaW1lQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGRhdGVUaW1lQXJyYXkuZm9yRWFjaCgoZGF0ZVRpbWUsIGRhdGVUaW1lSW5kZXgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYnVzeVRpbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgZnJlZVRpbWVzID0gW107XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjYWxlbmRhckV2ZW50LmV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IGNhbGVuZGFyRXZlbnQuZXZlbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgeyBldmVudERhdGUsIHN0YXJ0VGltZSwgc3RhcnRpbmdIb3VyLCBzdGFydGluZ01pbnV0ZSwgZXZlbnREdXJhdGlvbiB9ID0gZ2V0RXZlbnREZXRhaWxzKGV2ZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGVUaW1lLmRhdGUgPT09IGV2ZW50RGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVzeVRpbWVzLnB1c2goc3RhcnRUaW1lKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDE7IGogPCBNYXRoLmNlaWwoZXZlbnREdXJhdGlvbiAvIDE1KTsgaisrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludGVydmFsID0gKDE1ICogaikgKyBzdGFydGluZ01pbnV0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3VyID0gc3RhcnRpbmdIb3VyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludGVydmFsIC8gNjAgZ2l2ZXMgdXMgdGhlIHZhbHVlIHdoaWNoIHNob3VsZCBiZSBhZGRlZCB0byBob3VyLiBGb3IgZXhhbXBsZSAtIGlmIGludGVydmFsIGlzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzUgdGhlbiB3ZSBtdXN0IGFkZCAxIHdpdGggaG91ciBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3VySW5jcmVtZW50ID0gTWF0aC5mbG9vcihpbnRlcnZhbCAvIDYwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGRpbmcgaG91ciBpbmNyZW1lbnQgd2l0aCBob3VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyICs9IGhvdXJJbmNyZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaG91ckluY3JlbWVudCBpcyBtb3JlIHRoYW4gb3IgZXF1YWwgdG8gMSB0aGVuIGludGVydmFsIHZhbHVlIG11c3QgYmUgcmUtY2FsY3VsYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaG91ckluY3JlbWVudCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBpbnRlcnZhbCAtICg2MCAqIGhvdXJJbmNyZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGludGVydmFsIGlzIDAgdGhlbiBhZGQgZXh0cmEgb25lIDAgdG8ga2VlcCB0aGUgbWludXRlIHZhbHVlIGluIHR3byBkaWdpdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGludGVydmFsID09PSAwKSBpbnRlcnZhbCArPSBcIjBcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBob3VyIGlzIGxlc3MgdGhhbiAxMCB0aGVuIGFkZCBhIDAgYmVmb3JlIGl0IHRvIG1ha2UgaXQgY29uc2lzdGVudCB3aXRoIGNhbGVuZGFyIGhvdXIvbWludXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihob3VyIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lUaW1lcy5wdXNoKGAwJHtob3VyfToke2ludGVydmFsfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5VGltZXMucHVzaChgJHtob3VyfToke2ludGVydmFsfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoIWJ1c3lUaW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlVGltZS5kZWZhdWx0VGltZS5mb3JFYWNoKHRpbWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVlVGltZXMucHVzaCh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRlVGltZS5kZWZhdWx0VGltZS5mb3JFYWNoKHRpbWUgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWJ1c3lUaW1lcy5pbmNsdWRlcyh0aW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlZVRpbWVzLnB1c2godGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBuZXdEYXRlVGltZUFycmF5LnB1c2goe2RhdGU6IGRhdGVUaW1lLmRhdGUsIGZyZWVUaW1lc30pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHN0eWxpc3RzV2l0aEZyZWVUaW1lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGV2ZW50OiBjYWxlbmRhckV2ZW50LnRyZWF0bWVudFRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc3R5bGlzdDogY2FsZW5kYXJFdmVudC5zdHlsaXN0LCBcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBjYWxlbmRhckV2ZW50LmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGNhbGVuZGFyRXZlbnQuZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBmcmVlVGltZXNBcnJheTogbmV3RGF0ZVRpbWVBcnJheVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNhbGVuZGFyRXZlbnQuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RGF0ZVRpbWVBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgZGF0ZVRpbWVBcnJheS5mb3JFYWNoKGFzeW5jIChkYXRlVGltZSwgZGF0ZVRpbWVJbmRleCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVzeVRpbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZyZWVUaW1lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgY2FsZW5kYXJFdmVudC5ldmVudHNbaV0ubGVuZ3RoOyBqKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gY2FsZW5kYXJFdmVudC5ldmVudHNbaV1bal07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeyBldmVudERhdGUsIHN0YXJ0VGltZSwgc3RhcnRpbmdIb3VyLCBzdGFydGluZ01pbnV0ZSwgZXZlbnREdXJhdGlvbiB9ID0gYXdhaXQgZ2V0RXZlbnREZXRhaWxzKGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGVUaW1lLmRhdGUgPT09IGV2ZW50RGF0ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c3lUaW1lcy5wdXNoKHN0YXJ0VGltZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayA9IDE7IGsgPCBNYXRoLmNlaWwoZXZlbnREdXJhdGlvbiAvIDE1KTsgaysrKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSAoMTUgKiBrKSArIHN0YXJ0aW5nTWludXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3VyID0gc3RhcnRpbmdIb3VyO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJ2YWwgLyA2MCBnaXZlcyB1cyB0aGUgdmFsdWUgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIHRvIGhvdXIuIEZvciBleGFtcGxlIC0gaWYgaW50ZXJ2YWwgaXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gNzUgdGhlbiB3ZSBtdXN0IGFkZCAxIHdpdGggaG91ciBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG91ckluY3JlbWVudCA9IE1hdGguZmxvb3IoaW50ZXJ2YWwgLyA2MCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGRpbmcgaG91ciBpbmNyZW1lbnQgd2l0aCBob3VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91ciArPSBob3VySW5jcmVtZW50O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaG91ckluY3JlbWVudCBpcyBtb3JlIHRoYW4gb3IgZXF1YWwgdG8gMSB0aGVuIGludGVydmFsIHZhbHVlIG11c3QgYmUgcmUtY2FsY3VsYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhvdXJJbmNyZW1lbnQgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IGludGVydmFsIC0gKDYwICogaG91ckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaW50ZXJ2YWwgaXMgMCB0aGVuIGFkZCBleHRyYSBvbmUgMCB0byBrZWVwIHRoZSBtaW51dGUgdmFsdWUgaW4gdHdvIGRpZ2l0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGludGVydmFsID09PSAwKSBpbnRlcnZhbCArPSBcIjBcIjtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGhvdXIgaXMgbGVzcyB0aGFuIDEwIHRoZW4gYWRkIGEgMCBiZWZvcmUgaXQgdG8gbWFrZSBpdCBjb25zaXN0ZW50IHdpdGggY2FsZW5kYXIgaG91ci9taW51dGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihob3VyIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5VGltZXMucHVzaChgMCR7aG91cn06JHtpbnRlcnZhbH1gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXN5VGltZXMucHVzaChgJHtob3VyfToke2ludGVydmFsfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFidXN5VGltZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lLmRlZmF1bHRUaW1lLmZvckVhY2godGltZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVlVGltZXMucHVzaCh0aW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlVGltZS5kZWZhdWx0VGltZS5mb3JFYWNoKHRpbWUgPT4ge1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighYnVzeVRpbWVzLmluY2x1ZGVzKHRpbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlZVRpbWVzLnB1c2godGltZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGVUaW1lQXJyYXkucHVzaCh7ZGF0ZTogZGF0ZVRpbWUuZGF0ZSwgZnJlZVRpbWVzfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3QXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGNhbGVuZGFyRXZlbnQuc3R5bGlzdHNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnJlZVRpbWVzQXJyYXk6IG5ld0RhdGVUaW1lQXJyYXlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3R5bGlzdHNXaXRoRnJlZVRpbWVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZXZlbnQ6IGNhbGVuZGFyRXZlbnQudHJlYXRtZW50VGl0bGUsXHJcbiAgICAgICAgICAgICAgICBzdHlsaXN0OiBjYWxlbmRhckV2ZW50LnN0eWxpc3QsIFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGNhbGVuZGFyRXZlbnQuZHVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBuZXdBcnJheTogbmV3QXJyYXlcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhzdHlsaXN0c1dpdGhGcmVlVGltZXMpO1xyXG5cclxuXHJcbiAgICBsZXQgYWJjZCA9IDA7XHJcbiAgICB0cmVhdG1lbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcblxyXG4gICAgICAgIGlmKGl0ZW0uc3R5bGlzdCAhPT0gXCJObyBwcmVmZXJlbmNlXCIpIGFiY2QgKz0gKE1hdGguY2VpbChpdGVtLmR1cmF0aW9uIC8gMTUpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIFxyXG5cclxuICAgIC8vIFN0YXJ0aW5nIHRpbWVzIGZyb20gd2hpY2ggYWxsIHN0eWxpc3RzIGFyZSBhdmFpbGFibGUgb25lIGFmdGVyIHRoZSBvdGhlclxyXG4gICAgY29uc3QgYXZhaWxhYmxlU3RhcnRpbmdUaW1lc1dpdGhEYXRlcyA9IFtdO1xyXG5cclxuICAgIGRhdGVUaW1lQXJyYXkuZm9yRWFjaCgoZGF0ZVRpbWUsIGluZGV4KSA9PiB7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYXJyYXkgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBhbGwgdGhlIHN0YXJ0aW5nIGZyZWUgdGltZXMgb2YgZWFjaCBkYXRlIHN0YXJ0aW5nIGZyb20gdG9kYXkgdXAgdG8gMzAgZGF5c1xyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVRpbWVzQnlEYXRlID0gW107XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkYXRlVGltZS5kZWZhdWx0VGltZS5sZW5ndGggLSBhYmNkOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIHRvdGFsVGltZUNvdW50IHZhbHVlIHdpbGwgYmUgdXBkYXRlZCBvbiBlYWNoIGl0ZW0gb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5IGluIHRoZSBmb2xsb3dpbmcgbG9vcC4gXHJcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCBpZiBzdHlsaXN0c1dpdGhGcmVlVGltZXMgaGFzIHRocmVlIGl0ZW1zIChzYXkgZmlyc3QgaXRlbSdzIGR1cmF0aW9uIGlzIDQ1LCBzZWNvbmQgaXMgNTUgXHJcbiAgICAgICAgICAgIC8vIGFuZCB0aGlyZCBpcyAyNSkgdGhlbiBhdCB0aGUgZW5kIG9mIHRoZSBsb29wIHRvdGFsVGltZUNvdW50IHdpbGwgYmUgKE1hdGguY2VpbCg0NSAvIDE1KSArICBNYXRoLmNlaWwoNTUgLyAxNSlcclxuICAgICAgICAgICAgLy8gKyBNYXRoLmNlaWwoMjUgLyAxNSkpIDMgKyA0ICsgMiA9IDlcclxuICAgICAgICAgICAgbGV0IHRvdGFsVGltZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSB0ZW1wb3JhcnkgYXJyYXkgd2hpY2ggd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBmcmVlIHRpbWVzIG9mIGVhY2ggc3R5bGlzdCBieSBsb29waW5nIHRocm91Z2ggdGhlIFxyXG4gICAgICAgICAgICAvLyBzdHlsaXN0c1dpdGhGcmVlVGltZXMgYXJyYXlcclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHN0eWxpc3RzV2l0aEZyZWVUaW1lcy5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdHlsaXN0c1dpdGhGcmVlVGltZXNbal07XHJcbiAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpdGVtLnN0eWxpc3QgIT09IFwiTm8gcHJlZmVyZW5jZVwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvdW50IHdpbGwgZGV0ZXJtaW5lIGhvdyBtYW55IGZyZWUgdGltZXMgc2hvdWxkIGJlIGxvb2tlZCBmb3IuIEZvciBleGFtcGxlIGlmIGNvdW50IGlzIDMgYW5kIHN0YXJ0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZSBpcyAwOTozMCB0aGVuIDA5OjMwLCAwOTo0NSAmIDEwOjAwIHNob3VsZCBiZSBsb29rZWQgZm9yXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBNYXRoLmNlaWwoaXRlbS5kdXJhdGlvbiAvIDE1KTsgXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQXMgc2FpZCBhYm92ZSB0b3RhbFRpbWVDb3VudCBtdXN0IGJlIHVwZGF0ZWQgb24gZWFjaCBpdGVtIG9mIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZUNvdW50ICs9IGNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHZlcnkgY3J1Y2lhbC4gT24gZWFjaCBpdGVtIG9mIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheSB0aGlzIHN0YXJ0aW5nVGltZSB3aWxsIGJlIHVwZGF0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGV4YW1wbGUgLSBzYXkgd2UgYXJlIGF0IDA5OjAwIG9uIGZpcnN0IGl0ZW0gb2Ygc3R5bGlzdHNXaXRoRnJlZVRpbWVzIGFycmF5LCBjb3VudCBpcyAzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHN0eWxpc3Qgb2YgdGhpcyBpdGVtIGlzIGF2YWlsYWJsZSBvbiBhbGwgdGhyZWUgdGltZXMgMDk6MDAsIDA5OjE1ICYgOTozMC4gU28gc3RhcnRpbmdUaW1lIG11c3QgYmUgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSAwOTo0NSBmb3IgdGhlIDJuZCBpdGVtIG9mIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheS4gU2F5IGZvciB0aGUgc2Vjb25kIGl0ZW0gY291bnQgaXMgNCBhbmQgc3R5bGlzdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIGF2YWlsYWJsZSBvbiBhbGwgZm91ciB0aW1lcyAwOTo0NSwgMTA6MDAsIDEwOjE1ICYgMTA6MzAsIHNvIHN0YXJ0aW5nVGltZSBmb3IgdGhlIHRoaXJkIGl0ZW0gb2YgdGhlIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICBzdHlsaXN0c1dpdGhGcmVlVGltZXMgYXJyYXkgMTA6NDUuIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydGluZ1RpbWUgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGVtcCBsZW5ndGggaXMgemVybyB0aGVuIHdlIGFyZSBhdCB0aGUgZmlyc3QgaXRlbSBvZiBzdHlsaXN0c1dpdGhGcmVlVGltZXMgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICBpZighdGVtcC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdUaW1lID0gZGF0ZVRpbWUuZGVmYXVsdFRpbWVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggY29uc2VjdXRpdmUgaXRlbSBhZnRlciB0aGUgZmlyc3Qgb25lIG9mIHN0eWxpc3RzV2l0aEZyZWVUaW1lcyBhcnJheSBzdGFydGluZ1RpbWUgd2lsbCBiZSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG5leHQgdGltZSBhZnRlciB0aGUgdGltZSBvZiBsYXN0IGl0ZW0gb2YgdGVtcCBhcnJheS4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBkYXRlVGltZS5kZWZhdWx0VGltZS5pbmRleE9mKHRlbXBbdGVtcC5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVGltZSA9IGRhdGVUaW1lLmRlZmF1bHRUaW1lW3kgKyAxXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhvdXIgPSBOdW1iZXIoc3RhcnRpbmdUaW1lLnN1YnN0cmluZygwLCAyKSk7IC8vIDlcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbWludXRlcyA9IE51bWJlcihzdGFydGluZ1RpbWUuc3Vic3RyaW5nKDMsIDUpKTsgLy8gMDBcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgPSAxOyBrIDw9IGNvdW50OyBrKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3VySW5jcmVtZW50ID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VyICs9IGhvdXJJbmNyZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihob3VySW5jcmVtZW50ID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBtaW51dGVzIC0gKDYwICogaG91ckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG1pbnV0ZXMgaXMgMCB0aGVuIGFkZCBleHRyYSBvbmUgMCB0byBrZWVwIHRoZSBtaW51dGUgdmFsdWUgaW4gdHdvIGRpZ2l0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihtaW51dGVzID09PSAwKSBtaW51dGVzICs9IFwiMFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaG91ciBpcyBsZXNzIHRoYW4gMTAgdGhlbiBhZGQgYSAwIGJlZm9yZSBpdCB0byBtYWtlIGl0IGNvbnNpc3RlbnQgd2l0aCBjYWxlbmRhciBob3VyL21pbnV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihob3VyIDwgMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAoYDAke2hvdXJ9OiR7bWludXRlc31gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAoYCR7aG91cn06JHttaW51dGVzfWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcmVlVGltZXMgPSBpdGVtLmZyZWVUaW1lc0FycmF5W2luZGV4XS5mcmVlVGltZXM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZyZWVUaW1lcy5pbmNsdWRlcyh0aW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IE51bWJlcihtaW51dGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyArPSAxNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTYXkgc3RhcnRpbmdUaW1lIGlzIDA5OjAwICYgY291bnQgaXMgMy4gU28gdG90YWxUaW1lQ291bnQgaXMgYWxzbyAzLiBBZnRlciBmaXJzdCBpdGVyYXRpb24gdGVtcC5sZW5ndGggXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbXVzdCBiZSBlcXVhbHMgdG8gMyBvdGhlcndpc2UgaXQgbWVhbnMgdGhhdCBzdHlsaXN0IGlzIG5vdCBhdmFpbGFibGUgYXQgYWxsIHRocmVlIHRpbWVzICgwOTowMC4gMDk6MTUgJiAwOTozMClcclxuICAgICAgICAgICAgICAgICAgICAvLyBJbiBzdWNoIGNhc2UgZnVydGhlciBpdGVyYXRpb24gaXMgbm90IG5lY2Vzc2FyeS4gXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGVtcC5sZW5ndGggPCB0b3RhbFRpbWVDb3VudCkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYodG90YWxUaW1lQ291bnQgPT09IHRlbXAubGVuZ3RoKSBhdmFpbGFibGVUaW1lc0J5RGF0ZS5wdXNoKGRhdGVUaW1lLmRlZmF1bHRUaW1lW2ldKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdmFpbGFibGVTdGFydGluZ1RpbWVzV2l0aERhdGVzLnB1c2goe2RhdGU6IGRhdGVUaW1lLmRhdGUsIHRpbWVzOiBhdmFpbGFibGVUaW1lc0J5RGF0ZX0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBjb25zb2xlLmxvZyhhdmFpbGFibGVTdGFydGluZ1RpbWVzV2l0aERhdGVzKTtcclxuICAgIFxyXG5cclxuICAgXHJcblxyXG4gICAgXHJcblxyXG4gICBcclxuXHJcblxyXG5cclxuXHJcblxyXG59ICBcclxuXHJcbiAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICBcclxuXHJcblxyXG5cclxuXHJcbiAgICBcclxuXHJcbiAgICJdLCJuYW1lcyI6WyJheGlvcyIsImZldGNoU3R5bGlzdHNFdmVudHMiLCJmaW5kQnVzeVRpbWVzIiwiZ2V0RGF0ZXMiLCJnZXRFdmVudERldGFpbHMiLCJnZXRTdHlsaXN0cyIsImdldFN0eWxpc3RzQWxsV29ya2luZ1RpbWVzIiwiZGVmYXVsdFRpbWUiLCJmaW5kVGltZVNsb3RzIiwibmV3VHJlYXRtZW50cyIsImNhdGVnb3J5IiwiY2hvb3NlblN0eWxpc3QiLCJsb2NhdGlvbiIsInRyZWF0bWVudER1cmF0aW9uIiwidHJlYXRtZW50UHJpY2UiLCJ0cmVhdG1lbnRUaXRsZSIsImRhdGVzQXJyYXkiLCJhbGxTdHlsaXN0cyIsImNhbGVuZGFyRXZlbnRzIiwic3R5bGlzdHNCeU5hbWUiLCJmb3JFYWNoIiwidHJlYXRtZW50IiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJzdHlsaXN0c1dvcmtpbmdUaW1lc09uQXZhaWxhYmxlRGF0ZXMiLCJkYXRlIiwibmV3RGF0ZSIsIkRhdGUiLCJkYXlOYW1lIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInRlbXAiLCJzdHlsaXN0Iiwid29ya1NjaGVkdWxlIiwic2NoZWR1bGUiLCJkYXkiLCJjb3VudCIsIndvcmtpbmdUaW1lcyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImxlbmd0aCIsInN0eWxpc3RXb3JraW5nVGltZXMiXSwic291cmNlUm9vdCI6IiJ9