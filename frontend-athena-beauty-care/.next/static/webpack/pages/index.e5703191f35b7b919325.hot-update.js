"use strict";
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ Home; }
/* harmony export */ });
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _components_clients_libs_useAxios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/clients/libs/useAxios */ "./components/clients/libs/useAxios.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../styles/Home.module.css */ "./styles/Home.module.css");
/* harmony import */ var _styles_Home_module_css__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _components_reusable_components_Alert__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/reusable-components/Alert */ "./components/reusable-components/Alert.js");
/* harmony import */ var _components_clients_navigation_bar_NavigationBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/clients/navigation-bar/NavigationBar */ "./components/clients/navigation-bar/NavigationBar.js");
/* harmony import */ var _components_clients_category_treatment_CategoryTreatment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/clients/category-treatment/CategoryTreatment */ "./components/clients/category-treatment/CategoryTreatment.js");
/* harmony import */ var _components_clients_location_Location__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/clients/location/Location */ "./components/clients/location/Location.js");
/* harmony import */ var _components_clients_date_time_DateTime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/clients/date-time/DateTime */ "./components/clients/date-time/DateTime.js");
/* harmony import */ var _components_clients_information_payment_InformationPayment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/clients/information-payment/InformationPayment */ "./components/clients/information-payment/InformationPayment.js");
/* harmony import */ var _components_clients_confirmation_page_Confirmation__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../components/clients/confirmation-page/Confirmation */ "./components/clients/confirmation-page/Confirmation.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__);
/* module decorator */ module = __webpack_require__.hmd(module);




var _jsxFileName = "D:\\programming\\fiverr-projects\\nextjs-projects\\athena-beauty-care\\frontend-athena-beauty-care\\pages\\index.js",
    _s = $RefreshSig$();



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

// React


 // Stylesheet

 // Reusable Components

 // components








function Home() {
  _s();

  // Other states
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),
      clientEvents = _useState[0],
      setClientEvents = _useState[1];

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),
      selectedTreatments = _useState2[0],
      setSelectedTreatments = _useState2[1];

  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)([]),
      sortedSelectedTreatments = _useState3[0],
      setSortedSelectedTreatments = _useState3[1];

  var _useState4 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),
      validationError = _useState4[0],
      setValidationError = _useState4[1];

  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({
    firstName: "",
    lastName: "",
    phone: "",
    email: "",
    howHeardAboutUs: "",
    others: ""
  }),
      clientInfo = _useState5[0],
      setClientInfo = _useState5[1];

  var _useState6 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({
    category: "",
    treatment: "",
    location: "",
    session: "",
    date: "",
    stylist: "",
    coupon: "",
    paid: false
  }),
      state = _useState6[0],
      setState = _useState6[1];

  var _useState7 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)("Brows"),
      activeCategory = _useState7[0],
      setActiveCategory = _useState7[1];

  var _useState8 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(1),
      activePage = _useState8[0],
      setActivePage = _useState8[1];

  var _useState9 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),
      selectedDate = _useState9[0],
      setSelectedDate = _useState9[1];

  var _useState10 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),
      selectedTime = _useState10[0],
      setSelectedTime = _useState10[1]; // update the state with values of the non input fields such as location, stylist, date, time etc. 


  function updateState(event) {
    var text = event.target.textContent;

    if (text.includes("Athena Beauty Care")) {
      return setState(function (currentValue) {
        return _objectSpread(_objectSpread({}, currentValue), {}, {
          location: text
        });
      });
    }
  }

  function changeActiveCategory(e) {
    var text = e.target.textContent;
    setActiveCategory(text);
  }
  /*
  function addTreatment (stylist, item) {
     
      // loop through the already selected treatments to see if clicked one exists or not. It returns either true or false
      const doesExist = selectedTreatments.some(newItem => newItem.treatmentTitle === item.title);
        // If clicked treatment exists update the selectedTreatments array by removing the clicked treatment
      if(doesExist) {
            const temp = [];
            selectedTreatments.forEach(newItem => {
                  
              if(newItem.treatmentTitle !== item.title) {
                  temp.push(newItem);
              }
                  
          })
            setSelectedTreatments(temp);
            if(stylist) {
                setSelectedTreatments(currentValue => 
                  [
                      ...currentValue, 
                      { 
                          category: item.category, 
                          treatmentTitle: item.title, 
                          treatmentDuration: item.duration, 
                          treatmentPrice: item.price,
                          choosenStylist: stylist,
                          location: state.location 
                      }
                  ]
              );
              
          } else {
                return setActiveTreatment("");
              
          }
          
          return setActiveTreatment("");
      }
        // If clicked treatment doesn't exist then add it in the selectedTreatments array
      setSelectedTreatments(currentValue => 
          [
              ...currentValue, 
              { 
                  category: item.category, 
                  treatmentTitle: item.title, 
                  treatmentDuration: item.duration, 
                  treatmentPrice: item.price,
                  choosenStylist: stylist,
                  location: state.location 
              }
          ]
      );
        return setActiveTreatment("");
    }
  */


  function clientInfoOnChangeHandler(event) {
    var name = event.target.name;
    var value = event.target.value;
    return setClientInfo(function (currentValue) {
      return _objectSpread(_objectSpread({}, currentValue), {}, (0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__.default)({}, name, value));
    });
  }

  function selectTreatment(event, treatments) {
    var treatmentTitle = event.target.textContent; // loop through the already selected treatments to see if clicked one exists or not. It returns either true or false

    var doesExist = selectedTreatments.some(function (newItem) {
      return newItem.title === treatmentTitle;
    });

    if (doesExist) {
      var filteredSelectedTreatments = selectedTreatments.filter(function (treatment) {
        return treatment.title !== treatmentTitle;
      });
      setSelectedTreatments(filteredSelectedTreatments);
    } else {
      var _loop = function _loop(x) {
        if (treatments[x].title === treatmentTitle) {
          setSelectedTreatments(function (currentValue) {
            return [].concat((0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__.default)(currentValue), [treatments[x]]);
          });
          return "break";
        }
      };

      for (var x = 0; x < treatments.length; x++) {
        var _ret = _loop(x);

        if (_ret === "break") break;
      }
    }
  }

  function createBooking() {
    return _createBooking.apply(this, arguments);
  } // console.log(locationData);
  // if(locationDataLoading || categoryDataLoading || treatmentDataLoading) {
  //     return (<div>Loading....</div>);
  // }


  function _createBooking() {
    _createBooking = (0,D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__.default)( /*#__PURE__*/D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().mark(function _callee() {
      var response;
      return D_programming_fiverr_projects_nextjs_projects_athena_beauty_care_frontend_athena_beauty_care_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              _context.prev = 0;
              _context.next = 3;
              return axios__WEBPACK_IMPORTED_MODULE_6___default().post("http://localhost:7070/api/events/client-events", {
                sortedSelectedTreatments: sortedSelectedTreatments,
                selectedTime: selectedTime,
                clientInfo: clientInfo
              });

            case 3:
              response = _context.sent;
              console.log(response.data); // setClientEvents(response.data);

              _context.next = 10;
              break;

            case 7:
              _context.prev = 7;
              _context.t0 = _context["catch"](0);
              console.log(_context.t0.response.data);

            case 10:
              _context.prev = 10;
              setActivePage(5);
              return _context.finish(10);

            case 13:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, null, [[0, 7, 10, 13]]);
    }));
    return _createBooking.apply(this, arguments);
  }

  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)("div", {
    className: (_styles_Home_module_css__WEBPACK_IMPORTED_MODULE_15___default().home),
    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_navigation_bar_NavigationBar__WEBPACK_IMPORTED_MODULE_8__.default, {
      state: state,
      selectedTreatments: selectedTreatments,
      activePage: activePage,
      setActivePage: setActivePage,
      selectedTime: selectedTime
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 227,
      columnNumber: 13
    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_location_Location__WEBPACK_IMPORTED_MODULE_10__.default, {
      activePage: activePage,
      state: state,
      updateState: updateState
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 234,
      columnNumber: 13
    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_category_treatment_CategoryTreatment__WEBPACK_IMPORTED_MODULE_9__.default, {
      selectedTreatments: selectedTreatments,
      activePage: activePage,
      activeCategory: activeCategory,
      changeActiveCategory: changeActiveCategory,
      selectTreatment: selectTreatment
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 240,
      columnNumber: 13
    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_date_time_DateTime__WEBPACK_IMPORTED_MODULE_11__.default, {
      state: state,
      activePage: activePage,
      updateState: updateState,
      location: state.location,
      selectedTreatments: selectedTreatments,
      setSortedSelectedTreatments: setSortedSelectedTreatments,
      selectedDate: selectedDate,
      setSelectedDate: setSelectedDate,
      selectedTime: selectedTime,
      setSelectedTime: setSelectedTime
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 251,
      columnNumber: 13
    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_information_payment_InformationPayment__WEBPACK_IMPORTED_MODULE_12__.default, {
      activePage: activePage,
      clientInfo: clientInfo,
      clientInfoOnChangeHandler: clientInfoOnChangeHandler,
      validationError: validationError,
      createBooking: createBooking
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 264,
      columnNumber: 13
    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxDEV)(_components_clients_confirmation_page_Confirmation__WEBPACK_IMPORTED_MODULE_13__.default, {
      activePage: activePage,
      clientEvents: clientEvents
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 273,
      columnNumber: 13
    }, this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 226,
    columnNumber: 9
  }, this);
}

_s(Home, "HCtNAwnJEELUGYoLJXG0CUgTMLg=");

_c = Home;

var _c;

$RefreshReg$(_c, "Home");

;
    var _a, _b;
    // Legacy CSS implementations will `eval` browser code in a Node.js context
    // to extract CSS. For backwards compatibility, we need to check we're in a
    // browser context before continuing.
    if (typeof self !== 'undefined' &&
        // AMP / No-JS mode does not inject these helpers:
        '$RefreshHelpers$' in self) {
        var currentExports = module.__proto__.exports;
        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;
        // This cannot happen in MainTemplate because the exports mismatch between
        // templating and execution.
        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);
        // A module can be accepted automatically based on its exports, e.g. when
        // it is a Refresh Boundary.
        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {
            // Save the previous exports on update so we can compare the boundary
            // signatures.
            module.hot.dispose(function (data) {
                data.prevExports = currentExports;
            });
            // Unconditionally accept an update to this module, we'll check if it's
            // still a Refresh Boundary later.
            module.hot.accept();
            // This field is set when the previous version of this module was a
            // Refresh Boundary, letting us know we need to check for invalidation or
            // enqueue an update.
            if (prevExports !== null) {
                // A boundary can become ineligible if its exports are incompatible
                // with the previous exports.
                //
                // For example, if you add/remove/change exports, we'll want to
                // re-execute the importing modules, and force those components to
                // re-render. Similarly, if you convert a class component to a
                // function, we want to invalidate the boundary.
                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {
                    module.hot.invalidate();
                }
                else {
                    self.$RefreshHelpers$.scheduleUpdate();
                }
            }
        }
        else {
            // Since we just executed the code for the module, it's possible that the
            // new exports made it ineligible for being a boundary.
            // We only care about the case when we were _previously_ a boundary,
            // because we already accepted this update (accidental side effect).
            var isNoLongerABoundary = prevExports !== null;
            if (isNoLongerABoundary) {
                module.hot.invalidate();
            }
        }
    }


/***/ })

});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGljL3dlYnBhY2svcGFnZXMvaW5kZXguZTU3MDMxOTFmMzViN2I5MTkzMjUuaG90LXVwZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7Q0FJQTs7Q0FHQTs7Q0FHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBR2UsU0FBU1ksSUFBVCxHQUFpQjtBQUFBOztBQUc1QjtBQUNBLGtCQUF3Q1osK0NBQVEsQ0FBQyxFQUFELENBQWhEO0FBQUEsTUFBT2EsWUFBUDtBQUFBLE1BQXFCQyxlQUFyQjs7QUFDQSxtQkFBb0RkLCtDQUFRLENBQUMsRUFBRCxDQUE1RDtBQUFBLE1BQU9lLGtCQUFQO0FBQUEsTUFBMkJDLHFCQUEzQjs7QUFDQSxtQkFBZ0VoQiwrQ0FBUSxDQUFDLEVBQUQsQ0FBeEU7QUFBQSxNQUFPaUIsd0JBQVA7QUFBQSxNQUFpQ0MsMkJBQWpDOztBQUNBLG1CQUE4Q2xCLCtDQUFRLENBQUMsS0FBRCxDQUF0RDtBQUFBLE1BQU9tQixlQUFQO0FBQUEsTUFBd0JDLGtCQUF4Qjs7QUFDQSxtQkFBb0NwQiwrQ0FBUSxDQUFDO0FBQ3pDcUIsSUFBQUEsU0FBUyxFQUFFLEVBRDhCO0FBRXpDQyxJQUFBQSxRQUFRLEVBQUUsRUFGK0I7QUFHekNDLElBQUFBLEtBQUssRUFBRSxFQUhrQztBQUl6Q0MsSUFBQUEsS0FBSyxFQUFFLEVBSmtDO0FBS3pDQyxJQUFBQSxlQUFlLEVBQUUsRUFMd0I7QUFNekNDLElBQUFBLE1BQU0sRUFBRTtBQU5pQyxHQUFELENBQTVDO0FBQUEsTUFBT0MsVUFBUDtBQUFBLE1BQW1CQyxhQUFuQjs7QUFRQSxtQkFBMEI1QiwrQ0FBUSxDQUFDO0FBQy9CNkIsSUFBQUEsUUFBUSxFQUFFLEVBRHFCO0FBRS9CQyxJQUFBQSxTQUFTLEVBQUUsRUFGb0I7QUFHL0JDLElBQUFBLFFBQVEsRUFBRSxFQUhxQjtBQUkvQkMsSUFB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SixlQStDSSwrREFBQyx3RkFBRDtBQUNJLGdCQUFVLEVBQUk3QixVQURsQjtBQUVJLGtCQUFZLEVBQUU1QjtBQUZsQjtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBL0NKO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQURKO0FBd0RIOztHQW5RdUJEOztLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZWFjdFxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB1c2VBeGlvcyBmcm9tIFwiLi4vY29tcG9uZW50cy9jbGllbnRzL2xpYnMvdXNlQXhpb3NcIjtcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5cclxuXHJcbi8vIFN0eWxlc2hlZXRcclxuaW1wb3J0IHN0eWxlcyBmcm9tIFwiLi4vc3R5bGVzL0hvbWUubW9kdWxlLmNzc1wiO1xyXG5cclxuLy8gUmV1c2FibGUgQ29tcG9uZW50c1xyXG5pbXBvcnQgQWxlcnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvcmV1c2FibGUtY29tcG9uZW50cy9BbGVydFwiO1xyXG5cclxuLy8gY29tcG9uZW50c1xyXG5pbXBvcnQgTmF2aWdhdGlvbkJhciBmcm9tIFwiLi4vY29tcG9uZW50cy9jbGllbnRzL25hdmlnYXRpb24tYmFyL05hdmlnYXRpb25CYXJcIjtcclxuaW1wb3J0IENhdGVnb3J5VHJlYXRtZW50IGZyb20gXCIuLi9jb21wb25lbnRzL2NsaWVudHMvY2F0ZWdvcnktdHJlYXRtZW50L0NhdGVnb3J5VHJlYXRtZW50XCI7XHJcbmltcG9ydCBMb2NhdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9jbGllbnRzL2xvY2F0aW9uL0xvY2F0aW9uXCI7XHJcbmltcG9ydCBEYXRlVGltZSBmcm9tIFwiLi4vY29tcG9uZW50cy9jbGllbnRzL2RhdGUtdGltZS9EYXRlVGltZVwiO1xyXG5pbXBvcnQgSW5mb3JtYXRpb25QYXltZW50IGZyb20gXCIuLi9jb21wb25lbnRzL2NsaWVudHMvaW5mb3JtYXRpb24tcGF5bWVudC9JbmZvcm1hdGlvblBheW1lbnRcIjtcclxuaW1wb3J0IENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9jbGllbnRzL2NvbmZpcm1hdGlvbi1wYWdlL0NvbmZpcm1hdGlvblwiO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUgKCkge1xyXG5cclxuXHJcbiAgICAvLyBPdGhlciBzdGF0ZXNcclxuICAgIGNvbnN0IFtjbGllbnRFdmVudHMsIHNldENsaWVudEV2ZW50c10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgICBjb25zdCBbc2VsZWN0ZWRUcmVhdG1lbnRzLCBzZXRTZWxlY3RlZFRyZWF0bWVudHNdID0gdXNlU3RhdGUoW10pO1xyXG4gICAgY29uc3QgW3NvcnRlZFNlbGVjdGVkVHJlYXRtZW50cywgc2V0U29ydGVkU2VsZWN0ZWRUcmVhdG1lbnRzXSA9IHVzZVN0YXRlKFtdKTtcclxuICAgIGNvbnN0IFt2YWxpZGF0aW9uRXJyb3IsIHNldFZhbGlkYXRpb25FcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbY2xpZW50SW5mbywgc2V0Q2xpZW50SW5mb10gPSB1c2VTdGF0ZSh7XHJcbiAgICAgICAgZmlyc3ROYW1lOiBcIlwiLFxyXG4gICAgICAgIGxhc3ROYW1lOiBcIlwiLFxyXG4gICAgICAgIHBob25lOiBcIlwiLFxyXG4gICAgICAgIGVtYWlsOiBcIlwiLFxyXG4gICAgICAgIGhvd0hlYXJkQWJvdXRVczogXCJcIixcclxuICAgICAgICBvdGhlcnM6IFwiXCIsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoe1xyXG4gICAgICAgIGNhdGVnb3J5OiBcIlwiLFxyXG4gICAgICAgIHRyZWF0bWVudDogXCJcIixcclxuICAgICAgICBsb2NhdGlvbjogXCJcIixcclxuICAgICAgICBzZXNzaW9uOiBcIlwiLFxyXG4gICAgICAgIGRhdGU6IFwiXCIsXHJcbiAgICAgICAgc3R5bGlzdDogXCJcIixcclxuICAgICAgICBjb3Vwb246IFwiXCIsXHJcbiAgICAgICAgcGFpZDogZmFsc2UsXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IFthY3RpdmVDYXRlZ29yeSwgc2V0QWN0aXZlQ2F0ZWdvcnldID0gdXNlU3RhdGUoXCJCcm93c1wiKTtcclxuICAgIGNvbnN0IFthY3RpdmVQYWdlLCBzZXRBY3RpdmVQYWdlXSA9IHVzZVN0YXRlKDEpO1xyXG4gICAgY29uc3QgW3NlbGVjdGVkRGF0ZSwgc2V0U2VsZWN0ZWREYXRlXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG4gICAgY29uc3QgW3NlbGVjdGVkVGltZSwgc2V0U2VsZWN0ZWRUaW1lXSA9IHVzZVN0YXRlKFwiXCIpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyB1cGRhdGUgdGhlIHN0YXRlIHdpdGggdmFsdWVzIG9mIHRoZSBub24gaW5wdXQgZmllbGRzIHN1Y2ggYXMgbG9jYXRpb24sIHN0eWxpc3QsIGRhdGUsIHRpbWUgZXRjLiBcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlIChldmVudCkge1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0ID0gZXZlbnQudGFyZ2V0LnRleHRDb250ZW50O1xyXG5cclxuICAgICAgICBpZih0ZXh0LmluY2x1ZGVzKFwiQXRoZW5hIEJlYXV0eSBDYXJlXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZXRTdGF0ZShjdXJyZW50VmFsdWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50VmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHRleHRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VBY3RpdmVDYXRlZ29yeSAoZSkge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSBlLnRhcmdldC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICBcclxuICAgICAgICBzZXRBY3RpdmVDYXRlZ29yeSh0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgIFxyXG5cclxuICAgIC8qXHJcbiAgICBmdW5jdGlvbiBhZGRUcmVhdG1lbnQgKHN0eWxpc3QsIGl0ZW0pIHtcclxuICAgICAgIFxyXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYWxyZWFkeSBzZWxlY3RlZCB0cmVhdG1lbnRzIHRvIHNlZSBpZiBjbGlja2VkIG9uZSBleGlzdHMgb3Igbm90LiBJdCByZXR1cm5zIGVpdGhlciB0cnVlIG9yIGZhbHNlXHJcbiAgICAgICAgY29uc3QgZG9lc0V4aXN0ID0gc2VsZWN0ZWRUcmVhdG1lbnRzLnNvbWUobmV3SXRlbSA9PiBuZXdJdGVtLnRyZWF0bWVudFRpdGxlID09PSBpdGVtLnRpdGxlKTtcclxuXHJcbiAgICAgICAgLy8gSWYgY2xpY2tlZCB0cmVhdG1lbnQgZXhpc3RzIHVwZGF0ZSB0aGUgc2VsZWN0ZWRUcmVhdG1lbnRzIGFycmF5IGJ5IHJlbW92aW5nIHRoZSBjbGlja2VkIHRyZWF0bWVudFxyXG4gICAgICAgIGlmKGRvZXNFeGlzdCkge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdGVtcCA9IFtdO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0ZWRUcmVhdG1lbnRzLmZvckVhY2gobmV3SXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihuZXdJdGVtLnRyZWF0bWVudFRpdGxlICE9PSBpdGVtLnRpdGxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKG5ld0l0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmVhdG1lbnRzKHRlbXApO1xyXG5cclxuICAgICAgICAgICAgaWYoc3R5bGlzdCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVHJlYXRtZW50cyhjdXJyZW50VmFsdWUgPT4gXHJcbiAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50VmFsdWUsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6IGl0ZW0uY2F0ZWdvcnksIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlYXRtZW50VGl0bGU6IGl0ZW0udGl0bGUsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlYXRtZW50RHVyYXRpb246IGl0ZW0uZHVyYXRpb24sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJlYXRtZW50UHJpY2U6IGl0ZW0ucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9vc2VuU3R5bGlzdDogc3R5bGlzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0QWN0aXZlVHJlYXRtZW50KFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBzZXRBY3RpdmVUcmVhdG1lbnQoXCJcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBjbGlja2VkIHRyZWF0bWVudCBkb2Vzbid0IGV4aXN0IHRoZW4gYWRkIGl0IGluIHRoZSBzZWxlY3RlZFRyZWF0bWVudHMgYXJyYXlcclxuICAgICAgICBzZXRTZWxlY3RlZFRyZWF0bWVudHMoY3VycmVudFZhbHVlID0+IFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50VmFsdWUsIFxyXG4gICAgICAgICAgICAgICAgeyBcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogaXRlbS5jYXRlZ29yeSwgXHJcbiAgICAgICAgICAgICAgICAgICAgdHJlYXRtZW50VGl0bGU6IGl0ZW0udGl0bGUsIFxyXG4gICAgICAgICAgICAgICAgICAgIHRyZWF0bWVudER1cmF0aW9uOiBpdGVtLmR1cmF0aW9uLCBcclxuICAgICAgICAgICAgICAgICAgICB0cmVhdG1lbnRQcmljZTogaXRlbS5wcmljZSxcclxuICAgICAgICAgICAgICAgICAgICBjaG9vc2VuU3R5bGlzdDogc3R5bGlzdCxcclxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24gXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gc2V0QWN0aXZlVHJlYXRtZW50KFwiXCIpO1xyXG5cclxuICAgIH1cclxuICAgICovXHJcblxyXG4gICAgZnVuY3Rpb24gY2xpZW50SW5mb09uQ2hhbmdlSGFuZGxlciAoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGV2ZW50LnRhcmdldC5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlXHJcblxyXG4gICAgICAgIHJldHVybiBzZXRDbGllbnRJbmZvKGN1cnJlbnRWYWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAuLi5jdXJyZW50VmFsdWUsXHJcbiAgICAgICAgICAgICAgICBbbmFtZV06IHZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFRyZWF0bWVudChldmVudCwgdHJlYXRtZW50cykge1xyXG5cclxuICAgICAgICBjb25zdCB0cmVhdG1lbnRUaXRsZSA9IGV2ZW50LnRhcmdldC50ZXh0Q29udGVudDtcclxuXHJcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhbHJlYWR5IHNlbGVjdGVkIHRyZWF0bWVudHMgdG8gc2VlIGlmIGNsaWNrZWQgb25lIGV4aXN0cyBvciBub3QuIEl0IHJldHVybnMgZWl0aGVyIHRydWUgb3IgZmFsc2VcclxuICAgICAgICBjb25zdCBkb2VzRXhpc3QgPSBzZWxlY3RlZFRyZWF0bWVudHMuc29tZShuZXdJdGVtID0+IG5ld0l0ZW0udGl0bGUgPT09IHRyZWF0bWVudFRpdGxlKTtcclxuXHJcblxyXG4gICAgICAgIGlmKGRvZXNFeGlzdCkge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTZWxlY3RlZFRyZWF0bWVudHMgPSBzZWxlY3RlZFRyZWF0bWVudHMuZmlsdGVyKHRyZWF0bWVudCA9PiB0cmVhdG1lbnQudGl0bGUgIT09IHRyZWF0bWVudFRpdGxlKTtcclxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRUcmVhdG1lbnRzKGZpbHRlcmVkU2VsZWN0ZWRUcmVhdG1lbnRzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgZm9yKGxldCB4ID0gMDsgeCA8IHRyZWF0bWVudHMubGVuZ3RoOyB4KyspIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZih0cmVhdG1lbnRzW3hdLnRpdGxlID09PSB0cmVhdG1lbnRUaXRsZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRyZWF0bWVudHMoY3VycmVudFZhbHVlID0+IHsgcmV0dXJuIFsuLi5jdXJyZW50VmFsdWUsIHRyZWF0bWVudHNbeF1dIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQm9va2luZygpIHtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChcImh0dHA6Ly9sb2NhbGhvc3Q6NzA3MC9hcGkvZXZlbnRzL2NsaWVudC1ldmVudHNcIiwge1xyXG4gICAgICAgICAgICAgICAgc29ydGVkU2VsZWN0ZWRUcmVhdG1lbnRzLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUaW1lLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50SW5mb1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAvLyBzZXRDbGllbnRFdmVudHMocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG5cclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKTtcclxuXHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgc2V0QWN0aXZlUGFnZSg1KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgIC8vIGNvbnNvbGUubG9nKGxvY2F0aW9uRGF0YSk7XHJcblxyXG4gICAgLy8gaWYobG9jYXRpb25EYXRhTG9hZGluZyB8fCBjYXRlZ29yeURhdGFMb2FkaW5nIHx8IHRyZWF0bWVudERhdGFMb2FkaW5nKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICg8ZGl2PkxvYWRpbmcuLi4uPC9kaXY+KTtcclxuICAgIC8vIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuaG9tZX0+XHJcbiAgICAgICAgICAgIDxOYXZpZ2F0aW9uQmFyIFxyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSB7c3RhdGV9IFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUcmVhdG1lbnRzID0ge3NlbGVjdGVkVHJlYXRtZW50c31cclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBhZ2UgPSB7YWN0aXZlUGFnZX0gXHJcbiAgICAgICAgICAgICAgICBzZXRBY3RpdmVQYWdlID0ge3NldEFjdGl2ZVBhZ2V9IFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUaW1lID0ge3NlbGVjdGVkVGltZX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPExvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVQYWdlID0ge2FjdGl2ZVBhZ2V9XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHtzdGF0ZX1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRlID0ge3VwZGF0ZVN0YXRlfSBcclxuICAgICAgICAgICAgLz5cclxuXHJcbiAgICAgICAgICAgIDxDYXRlZ29yeVRyZWF0bWVudFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUcmVhdG1lbnRzID0ge3NlbGVjdGVkVHJlYXRtZW50c31cclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBhZ2UgPSB7YWN0aXZlUGFnZX1cclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNhdGVnb3J5ID0ge2FjdGl2ZUNhdGVnb3J5fVxyXG4gICAgICAgICAgICAgICAgY2hhbmdlQWN0aXZlQ2F0ZWdvcnkgPSB7Y2hhbmdlQWN0aXZlQ2F0ZWdvcnl9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RUcmVhdG1lbnQgPSB7c2VsZWN0VHJlYXRtZW50fVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICBcclxuXHJcblxyXG4gICAgICAgICAgICA8RGF0ZVRpbWVcclxuICAgICAgICAgICAgICAgIHN0YXRlID0ge3N0YXRlfSBcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBhZ2UgPSB7YWN0aXZlUGFnZX1cclxuICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRlID0ge3VwZGF0ZVN0YXRlfSBcclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0ge3N0YXRlLmxvY2F0aW9ufVxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRUcmVhdG1lbnRzID0ge3NlbGVjdGVkVHJlYXRtZW50c31cclxuICAgICAgICAgICAgICAgIHNldFNvcnRlZFNlbGVjdGVkVHJlYXRtZW50cyA9IHtzZXRTb3J0ZWRTZWxlY3RlZFRyZWF0bWVudHN9XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERhdGUgPSB7c2VsZWN0ZWREYXRlfVxyXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREYXRlID0ge3NldFNlbGVjdGVkRGF0ZX1cclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkVGltZSA9IHtzZWxlY3RlZFRpbWV9XHJcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRpbWUgPSB7c2V0U2VsZWN0ZWRUaW1lfVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgPEluZm9ybWF0aW9uUGF5bWVudCBcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVBhZ2UgPSB7YWN0aXZlUGFnZX1cclxuICAgICAgICAgICAgICAgIGNsaWVudEluZm8gPSB7Y2xpZW50SW5mb31cclxuICAgICAgICAgICAgICAgIGNsaWVudEluZm9PbkNoYW5nZUhhbmRsZXIgPSB7Y2xpZW50SW5mb09uQ2hhbmdlSGFuZGxlcn0gXHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3IgPSB7dmFsaWRhdGlvbkVycm9yfVxyXG4gICAgICAgICAgICAgICAgY3JlYXRlQm9va2luZyA9IHtjcmVhdGVCb29raW5nfVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuXHJcbiAgICAgICAgICAgIDxDb25maXJtYXRpb24gXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVQYWdlID0ge2FjdGl2ZVBhZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGllbnRFdmVudHM9e2NsaWVudEV2ZW50c31cclxuXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIHsvKiA8QWxlcnQgbWVzc2FnZT1cIlwiIC8+ICovfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUF4aW9zIiwiYXhpb3MiLCJzdHlsZXMiLCJBbGVydCIsIk5hdmlnYXRpb25CYXIiLCJDYXRlZ29yeVRyZWF0bWVudCIsIkxvY2F0aW9uIiwiRGF0ZVRpbWUiLCJJbmZvcm1hdGlvblBheW1lbnQiLCJDb25maXJtYXRpb24iLCJIb21lIiwiY2xpZW50RXZlbnRzIiwic2V0Q2xpZW50RXZlbnRzIiwic2VsZWN0ZWRUcmVhdG1lbnRzIiwic2V0U2VsZWN0ZWRUcmVhdG1lbnRzIiwic29ydGVkU2VsZWN0ZWRUcmVhdG1lbnRzIiwic2V0U29ydGVkU2VsZWN0ZWRUcmVhdG1lbnRzIiwidmFsaWRhdGlvbkVycm9yIiwic2V0VmFsaWRhdGlvbkVycm9yIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwaG9uZSIsImVtYWlsIiwiaG93SGVhcmRBYm91dFVzIiwib3RoZXJzIiwiY2xpZW50SW5mbyIsInNldENsaWVudEluZm8iLCJjYXRlZ29yeSIsInRyZWF0bWVudCIsImxvY2F0aW9uIiwic2Vzc2lvbiIsImRhdGUiLCJzdHlsaXN0IiwiY291cG9uIiwicGFpZCIsInN0YXRlIiwic2V0U3RhdGUiLCJhY3RpdmVDYXRlZ29yeSIsInNldEFjdGl2ZUNhdGVnb3J5IiwiYWN0aXZlUGFnZSIsInNldEFjdGl2ZVBhZ2UiLCJzZWxlY3RlZERhdGUiLCJzZXRTZWxlY3RlZERhdGUiLCJzZWxlY3RlZFRpbWUiLCJzZXRTZWxlY3RlZFRpbWUiLCJ1cGRhdGVTdGF0ZSIsImV2ZW50IiwidGV4dCIsInRhcmdldCIsInRleHRDb250ZW50IiwiaW5jbHVkZXMiLCJjdXJyZW50VmFsdWUiLCJjaGFuZ2VBY3RpdmVDYXRlZ29yeSIsImUiLCJjbGllbnRJbmZvT25DaGFuZ2VIYW5kbGVyIiwibmFtZSIsInZhbHVlIiwic2VsZWN0VHJlYXRtZW50IiwidHJlYXRtZW50cyIsInRyZWF0bWVudFRpdGxlIiwiZG9lc0V4aXN0Iiwic29tZSIsIm5ld0l0ZW0iLCJ0aXRsZSIsImZpbHRlcmVkU2VsZWN0ZWRUcmVhdG1lbnRzIiwiZmlsdGVyIiwieCIsImxlbmd0aCIsImNyZWF0ZUJvb2tpbmciLCJwb3N0IiwicmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsImhvbWUiXSwic291cmNlUm9vdCI6IiJ9